<!DOCTYPE html>
<!-- saved from url=(0526)https://disqus.com/embed/comments/?base=default&f=anudeep2011&t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&s_o=default&l=#version=5877d19a2375d89d688e97a988aa8ccf -->
<html lang="en" dir="ltr" class="js no-touch localstorage sessionstorage contenteditable use-opacity-transitions"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Disqus Comments</title>

    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <style>
        .alert--warning {
            border-radius: 3px;
            padding: 10px 15px;
            margin-bottom: 10px;
            background-color: #FFE070;
            color: #A47703;
        }

        .alert--warning a,
        .alert--warning a:hover,
        .alert--warning strong {
            color: #A47703;
            font-weight: bold;
        }

        .alert--error p,
        .alert--warning p {
            margin-top: 5px;
            margin-bottom: 5px;
        }
        
        </style>
    
    <style>
        
        html {
            overflow: hidden;
        }
        

        #error {
            display: none;
        }

        .clearfix:after {
            content: "";
            display: block;
            height: 0;
            clear: both;
            visibility: hidden;
        }

        
    </style>

<script crossorigin="anonymous" id="bootstrap-script" data-app="lounge" src="./lounge.load.5877d19a2375d89d688e97a988aa8ccf.js.download"></script><meta http-equiv="Content-Security-Policy" content="script-src https:;"><link rel="stylesheet" href="./lounge.a219a5731bfdc6a1d16fa492c1ac36e9.css"><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="lounge/main" src="./lounge.bundle.8c32c0323ca65ff6ea4555f4c1c9838e.js.download"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="remote/config" src="./config.js.download"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="ga" src="./ga.js.download"></script><style id="css_1497106054617"></style><!--<base target="_parent">--><base href="." target="_parent"><link rel="stylesheet" href="./discovery.ec9371c4ef39ecee074c2acf24d5e0e2.css"><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="discovery/main" src="./discovery.bundle.1aa005cc55fbc45db15cc7a2c25763fb.js.download"></script></head>
<body waid71fa0d88-5390-4b5b-a2f4-e45fa93d85e2="SA password protect entry checker">
    

    
    <div id="error" class="alert--error">
        <p>We were unable to load Disqus. If you are a moderator please see our <a href="https://docs.disqus.com/help/83/"> troubleshooting guide</a>. </p>
    </div>

    
    <script type="text/json" id="disqus-forumData">{"session":{"canModerate":false,"audienceSyncVerified":false,"mustVerify":false,"canReply":true,"mustVerifyEmail":false},"features":{},"forum":{"founder":"98013784","twitterName":null,"guidelines":null,"favicon":{"permalink":"https://disqus.com/api/forums/favicons/anudeep2011.jpg","cache":"//a.disquscdn.com/1496872724/images/favicon-default.png"},"disableDisqusBranding":false,"id":"anudeep2011","createdAt":"2014-03-09T15:14:46.080034","category":null,"raw_guidelines":null,"daysAlive":0,"installCompleted":true,"pk":"2891552","channel":null,"description":null,"raw_description":null,"adsReviewStatus":0,"commentPolicyText":null,"permissions":{},"commentPolicyLink":null,"name":"anudeep2011.com","language":"en","settings":{"adsDRNativeEnabled":false,"disable3rdPartyTrackers":true,"adsVideoEnabled":false,"allowAnonPost":true,"ssoRequired":false,"unapproveLinks":false,"linkAffiliationEnabled":false,"adsProductLinksThumbnailsEnabled":false,"hasCustomAvatar":false,"organicDiscoveryEnabled":true,"allowMedia":true,"adsProductDisplayEnabled":false,"discoveryMax":false,"discoveryLocked":false,"moderatorText":"","adsEnabled":false,"adsPositionTopEnabled":false,"adsProductStoriesEnabled":false,"adultContent":false,"promotedDiscoveryEnabled":false,"allowAnonVotes":false,"adsProductVideoEnabled":false,"mustVerify":true,"colorScheme":"light","adsSettingsLocked":false,"mustVerifyEmail":true,"audienceSyncEnabled":false,"typeface":"auto","adsPositionBottomEnabled":false,"mediaembedEnabled":true,"adsProductLinksEnabled":false,"validateAllPosts":false,"discoveryThumbnailsEnabled":false,"isVIP":false,"adsPositionInthreadEnabled":false},"organizationId":2175857,"url":"https://blog.anudeep2011.com","daysThreadAlive":0,"avatar":{"small":{"permalink":"https://disqus.com/api/forums/avatars/anudeep2011.jpg?size=32","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"https://disqus.com/api/forums/avatars/anudeep2011.jpg?size=92","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"}},"signedUrl":"https://disq.us/?url=https%3A%2F%2Fblog.anudeep2011.com&key=8YTrBUnsxgI_DMT8woViFg"}}</script>

    <script type="text/json" id="disqus-threadData">{"cursor":{"hasPrev":false,"prev":null,"total":38,"hasNext":false,"next":"1:0:0"},"code":0,"response":{"lastModified":1496769839,"posts":[{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>can someone explain me why we use coordinate compression.In the coordinate compression method we use grids of huge size .how we relate it to segment trees.\u003cbr>Thanks...\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"username":"prateek_behera","about":"","name":"Prateek Behera","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2017-06-01T07:23:42","profileUrl":"https://disqus.com/by/prateek_behera/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"253634861","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/prateek_behera.jpg","cache":"https://c.disquscdn.com/uploads/users/25363/4861/avatar32.jpg?1496301832"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/prateek_behera.jpg","cache":"https://c.disquscdn.com/uploads/users/25363/4861/avatar92.jpg?1496301832","large":{"permalink":"https://disqus.com/api/users/avatars/prateek_behera.jpg","cache":"https://c.disquscdn.com/uploads/users/25363/4861/avatar92.jpg?1496301832"}}},"media":[],"id":"3334722957","isDeletedByAuthor":false,"createdAt":"2017-06-01T07:23:51","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"can someone explain me why we use coordinate compression.In the coordinate compression method we use grids of huge size .how we relate it to segment trees.\nThanks...","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>It is because the weights of the nodes can be as huge as 10^9, and we can't afford segment trees covering the range [1, 10^9]. So we use the fact that there exists only 10^5 weights and map all the weights to a number in range 1 to 10^5. It is one dimensional coordinate compression :). It will get more clear if you see the code provided.\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"Kaushik","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"3344819658","isDeletedByAuthor":false,"createdAt":"2017-06-06T17:23:58","parent":3334722957,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"It is because the weights of the nodes can be as huge as 10^9, and we can't afford segment trees covering the range [1, 10^9]. So we use the fact that there exists only 10^5 weights and map all the weights to a number in range 1 to 10^5. It is one dimensional coordinate compression :). It will get more clear if you see the code provided.","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>And in MKTHNUM why did you say that if you had N^2 seg trees you could answer each query in log(N), you could rather have N^2 arrays and answer each query in O(1).\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"Akshat","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"3328285040","isDeletedByAuthor":false,"createdAt":"2017-05-28T04:36:38","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"And in MKTHNUM why did you say that if you had N^2 seg trees you could answer each query in log(N), you could rather have N^2 arrays and answer each query in O(1).","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>In the problem COT, I think the question isn't clear. There is no info about what kind of tree is this, I mean how do we know that in the path 1-&gt;10 we need to go from 1-&gt;2-&gt;...-&gt;10, it depends on the tree right? Otherwise it should be mentioned that it is a linear array.\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"Akshat","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"3328275029","isDeletedByAuthor":false,"createdAt":"2017-05-28T04:22:12","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"In the problem COT, I think the question isn't clear. There is no info about what kind of tree is this, I mean how do we know that in the path 1->10 we need to go from 1->2->...->10, it depends on the tree right? Otherwise it should be mentioned that it is a linear array.","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>can you please explain DQUERY - D-query : using persistent tree : \u003ca href=\"http://disq.us/url?url=http%3A%2F%2Fwww.spoj.com%2Fproblems%2FDQUERY%2F%3AkWvsIlEtU7g9lwPDqyPhZIhVmko&amp;cuid=2891552\" rel=\"nofollow noopener\">http://www.spoj.com/problem...\u003c/a>\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"username":"disqus_So7M71qmq8","about":"","name":"Jaswant Singh","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2016-07-12T10:33:20","profileUrl":"https://disqus.com/by/disqus_So7M71qmq8/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"214806305","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/disqus_So7M71qmq8.jpg","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"isCustom":false,"permalink":"https://disqus.com/api/users/avatars/disqus_So7M71qmq8.jpg","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png","large":{"permalink":"https://disqus.com/api/users/avatars/disqus_So7M71qmq8.jpg","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"}}},"media":[],"id":"3143024044","isDeletedByAuthor":false,"createdAt":"2017-02-07T21:25:55","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"can you please explain DQUERY - D-query : using persistent tree : http://www.spoj.com/problems/DQUERY/","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["links"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Hi anudeep \u003cbr>How we can make lazy propagation with persistent segment tree ?\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"Abdo","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"2918641735","isDeletedByAuthor":false,"createdAt":"2016-09-14T16:39:49","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Hi anudeep \r\nHow we can make lazy propagation with persistent segment tree ?","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Thanks for the great post!\u003c/p>\u003cp>One question, how do you deal with interval update? We could use lazy flag in trivial segment tree, which allows us to delay interval operations to the future. When accessing lazy-flagged node, we simply pass it down to children nodes.\u003c/p>\u003cp>In persistent segment tree, passing down a lazy flag could change the result of previous versions. When update(i, j), eventually in the worst case we need to create 2 * (j \u2013 i + 1) new nodes (basically a new segment tree for that interval) to prevent damage in previous versions. That is not memory efficient.\u003c/p>\u003cp>Any idea?\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"John Wu","url":"http://gravatar.com/hackerinspire","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Fgravatar.com%2Fhackerinspire&key=0CkQ33-eqxJqgUNc_xxQLg","isAnonymous":true},"media":[],"id":"2918641734","isDeletedByAuthor":false,"createdAt":"2016-08-25T16:29:59","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Thanks for the great post!\r\n\r\nOne question, how do you deal with interval update? We could use lazy flag in trivial segment tree, which allows us to delay interval operations to the future. When accessing lazy-flagged node, we simply pass it down to children nodes.\r\n\r\nIn persistent segment tree, passing down a lazy flag could change the result of previous versions. When update(i, j), eventually in the worst case we need to create 2 * (j \u2013 i + 1) new nodes (basically a new segment tree for that interval) to prevent damage in previous versions. That is not memory efficient.\r\n\r\nAny idea?","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>@anudeep2011 What exactly is 'count' storing here?\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"Dipjal Chhetri","url":"http://facebook.com/deep966","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Ffacebook.com%2Fdeep966&key=PgiuidCFvqmxjNeJCxbBvg","isAnonymous":true},"media":[],"id":"2918641731","isDeletedByAuthor":false,"createdAt":"2016-08-20T13:15:06","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"@anudeep2011 What exactly is 'count' storing here?","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Thanks for Sharing.\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"Aatmaram","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"2918641732","isDeletedByAuthor":false,"createdAt":"2016-08-11T16:02:08","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Thanks for Sharing.","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>I dont undertand how do you build your segment tree and how it works. Do yo have some resource to learn about that specific segment tree?\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"Xyleth","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"2918641729","isDeletedByAuthor":false,"createdAt":"2016-06-16T19:50:32","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"I dont undertand how do you build your segment tree and how it works. Do yo have some resource to learn about that specific segment tree?","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>@Anudeep Can you please explain MKTHNUM with example how code is working...\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"sunil","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"2918641728","isDeletedByAuthor":false,"createdAt":"2016-02-14T10:58:56","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"@Anudeep Can you please explain MKTHNUM with example how code is working...","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Thank you for this great post. :D\u003cbr>There is one point I haven't gotten yet. Can you describe more the segment tree you use to find the number of nodes with value less than x on the path from root to u?\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"phqb","url":"http://phqb.tk/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Fphqb.tk%2F&key=er6T7W6ywkokpKD8OqSDEA","isAnonymous":true},"media":[],"id":"2918641726","isDeletedByAuthor":false,"createdAt":"2015-07-25T15:24:52","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Thank you for this great post. :D\r\nThere is one point I haven't gotten yet. Can you describe more the segment tree you use to find the number of nodes with value less than x on the path from root to u?","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Can u elaborate the mkthnum lil more\u003cbr>i know only basic segment tree and lazy propagation\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"ANKIT KUMAR","url":"https://plus.google.com/+ANKITKUMAR_95","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"https://disq.us/?url=https%3A%2F%2Fplus.google.com%2F%2BANKITKUMAR_95&key=LJJFJrnHIiQeKKiPZJ9CAQ","isAnonymous":true},"media":[],"id":"2918641725","isDeletedByAuthor":false,"createdAt":"2015-07-22T09:33:51","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Can u elaborate the mkthnum lil more\r\ni know only basic segment tree and lazy propagation","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u003ca href=\"https://disq.us/url?url=https%3A%2F%2Fupload.wikimedia.org%2Fwikipedia%2Fcommons%2Fthumb%2F5%2F56%2FPurely_functional_tree_after.svg%2F438px-Purely_functional_tree_after.svg.png%3Ag21-9RytlWA_Z1npj58Ghv0fVnc&amp;cuid=2891552\" rel=\"nofollow noopener\">https://upload.wikimedia.or...\u003c/a>\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"parijat","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"2918641724","isDeletedByAuthor":false,"createdAt":"2015-06-29T15:45:22","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Purely_functional_tree_after.svg/438px-Purely_functional_tree_after.svg.png","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous","links"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>hello , i have a question, i have been trying to solve this problem\u003c/p>\u003cp>\u003ca href=\"http://disq.us/url?url=http%3A%2F%2Fwww.spoj.com%2Fproblems%2FTEMPLEQ%2F%3Aat-Z39rXbFyyCAISuRBb7AswQQs&amp;cuid=2891552\" rel=\"nofollow noopener\">http://www.spoj.com/problem...\u003c/a>\u003c/p>\u003cp>i think its this method (which is amazing) however i don't know how to do a proper update on the tree because of how it is built, do you have any idea on how to do updates on the persistent segment tree DS? :) i bet you do, thanks in advance.\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"Rodolfo Miquilarena","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"2918641723","isDeletedByAuthor":false,"createdAt":"2015-04-03T01:42:36","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"hello , i have a question, i have been trying to solve this problem\r\n\r\nhttp://www.spoj.com/problems/TEMPLEQ/\r\n\r\ni think its this method (which is amazing) however i don't know how to do a proper update on the tree because of how it is built, do you have any idea on how to do updates on the persistent segment tree DS? :) i bet you do, thanks in advance.","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous","links"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>In your code\u003c/p>\u003cp>struct node\u003cbr>{\u003cbr>int count;\u003cbr>node *left, *right;\u003cbr>node(int count, node *left, node *right):\u003cbr>count(count), left(left), right(right) {}\u003cbr>node* insert(int l, int r, int w);\u003cbr>          --------\u003cbr>};\u003c/p>\u003cp>how this insert works....can you provide some link so that i can get more...\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"jugal kishor sahu","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"2918641719","isDeletedByAuthor":false,"createdAt":"2015-03-15T09:50:32","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"In your code\r\n\r\nstruct node\r\n{\r\nint count;\r\nnode *left, *right;\r\nnode(int count, node *left, node *right):\r\ncount(count), left(left), right(right) {}\r\nnode* insert(int l, int r, int w);\r\n          --------\r\n};\r\n\r\nhow this insert works....can you provide some link so that i can get more...","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>For problem \"COT\",\u003cbr>you don't need to use faster IO. \u003cbr>just avoid \"map\". \u003cbr>instead of this , use binary search for data compression . \u003cbr>i just edited your , and got AC.\u003cbr>\u003ca href=\"http://disq.us/url?url=http%3A%2F%2Fpaste.ubuntu.com%2F10031841%2F%3ARzHzqC7AvnfkWYeTNEKYmW9qi9Q&amp;cuid=2891552\" rel=\"nofollow noopener\">http://paste.ubuntu.com/100...\u003c/a>\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"shaheen13","url":"http://gravatar.com/shaheen13","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Fgravatar.com%2Fshaheen13&key=bSM8_bRNBdp9mUEApRAUEA","isAnonymous":true},"media":[],"id":"2918641720","isDeletedByAuthor":false,"createdAt":"2015-02-03T14:52:54","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"For problem \"COT\",\r\nyou don't need to use faster IO. \r\njust avoid \"map\". \r\ninstead of this , use binary search for data compression . \r\ni just edited your , and got AC.\r\nhttp://paste.ubuntu.com/10031841/","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous","links"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>I can't undertand what do you mean by having segment tree for every interval,\u003cbr>how would that segment tree look like , can you please elaborate on that?\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"Petar","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"2918641721","isDeletedByAuthor":false,"createdAt":"2015-02-01T02:02:01","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"I can't undertand what do you mean by having segment tree for every interval,\r\nhow would that segment tree look like , can you please elaborate on that?","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>A very powerful and detailed explanation. Thanks so much! Are there any other problems on SPOJ that require persistent segment trees so that I can practice the logic myself?\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"Aditya","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"2918641717","isDeletedByAuthor":false,"createdAt":"2014-12-22T08:57:14","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"A very powerful and detailed explanation. Thanks so much! Are there any other problems on SPOJ that require persistent segment trees so that I can practice the logic myself?","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>i has basic understanding of segment \u003ca href=\"http://disq.us/url?url=http%3A%2F%2Ftree.my%3AhJLo7gZPmaZElyUqjLM6PgIXhrI&amp;cuid=2891552\" rel=\"nofollow noopener\">tree.my\u003c/a> doubt is,\u003cbr>we have to take array size of 2^n for make segment tree of n element array,then how to make segment tree of 30 or greater elements,because 2^30 = 1073741824\u003cbr>then how to take array of this larger size for make segment tree,how to implement ?\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"Rahul Kumar","url":"https://plus.google.com/107172478827615532268","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"https://disq.us/?url=https%3A%2F%2Fplus.google.com%2F107172478827615532268&key=AJzmvzXIv1Aw-Vce6vf1XA","isAnonymous":true},"media":[],"id":"2918641715","isDeletedByAuthor":false,"createdAt":"2014-12-18T14:30:12","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"i has basic understanding of segment tree.my doubt is,\r\nwe have to take array size of 2^n for make segment tree of n element array,then how to make segment tree of 30 or greater elements,because 2^30 = 1073741824\r\nthen how to take array of this larger size for make segment tree,how to implement ?","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous","links"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>You will not need 2^n space.\u003cbr>Number of nodes in last level = N (Assume N is of the form 2^m for simplicity)\u003cbr>Number of nodes in one level above = N/2\u003cbr>..\u003cbr>Number of nodes in 2nd level = 2\u003cbr>Number of nodes in 1st level = 1\u003c/p>\u003cp>Total nodes = N + N/2 + N/4 + ... N/(N/2) + N/N\u003cbr>            = N ( 1 + 1/2 + 1/4 + 1/8 + ...)\u003cbr>            = 2 * N (\u003ca href=\"http://disq.us/url?url=http%3A%2F%2Fen.wikipedia.org%2Fwiki%2F1%2F2_%252B_1%2F4_%252B_1%2F8_%252B_1%2F16_%252B_%25E2%258B%25AF%3AHGJ8hoCKP6u4d82gYBU7wK-NWaI&amp;cuid=2891552\" rel=\"nofollow noopener\" title=\"check this\">Why 2*N?\u003c/a>)\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"anudeep2011","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"2918641880","isDeletedByAuthor":false,"createdAt":"2014-12-26T21:02:08","parent":2918641715,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"You will not need 2^n space.\nNumber of nodes in last level = N (Assume N is of the form 2^m for simplicity)\nNumber of nodes in one level above = N/2\n..\nNumber of nodes in 2nd level = 2\nNumber of nodes in 1st level = 1\n\nTotal nodes = N + N/2 + N/4 + ... N/(N/2) + N/N\n            = N ( 1 + 1/2 + 1/4 + 1/8 + ...)\n            = 2 * N (\u003ca href=\"http://en.wikipedia.org/wiki/1/2_%2B_1/4_%2B_1/8_%2B_1/16_%2B_%E2%8B%AF\" title=\"check this\" target=\"_blank\" rel=\"nofollow\">Why 2*N?\u003c/a>)","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":1,"points":0,"moderationLabels":["anonymous","links"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>ok,now it is clear,thanks :)\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"Rahul Kumar","url":"https://plus.google.com/107172478827615532268","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"https://disq.us/?url=https%3A%2F%2Fplus.google.com%2F107172478827615532268&key=AJzmvzXIv1Aw-Vce6vf1XA","isAnonymous":true},"media":[],"id":"2918641882","isDeletedByAuthor":false,"createdAt":"2014-12-27T15:17:25","parent":2918641880,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"ok,now it is clear,thanks :)","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":2,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>what to do when we have to update the values, such that, changing value of a index? then how to handle the tree?\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"niloy","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"2918641713","isDeletedByAuthor":false,"createdAt":"2014-10-12T16:35:55","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"what to do when we have to update the values, such that, changing value of a index? then how to handle the tree?","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>It would still be the same. You will have a new node (with new values) in the last level of segment tree. Then there will be O(log N) updated nodes as we go levels up till the root.\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"anudeep2011","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"2918641722","isDeletedByAuthor":false,"createdAt":"2014-12-28T08:14:19","parent":2918641713,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"It would still be the same. You will have a new node (with new values) in the last level of segment tree. Then there will be O(log N) updated nodes as we go levels up till the root.","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>i dont know how is this working\u003cbr>f( u, x) + f( v, x) \u2013 f( lca(u, v), x ) \u2013 f( parent( lca(u, v) ), x )\u003cbr>what will happen if we do this\u003cbr>f( u, x) + f( v, x) \u2013 2*f( lca(u, v), x )\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"Dharmendra","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"2918641714","isDeletedByAuthor":false,"createdAt":"2014-09-02T05:35:31","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"i dont know how is this working\r\nf( u, x) + f( v, x) \u2013 f( lca(u, v), x ) \u2013 f( parent( lca(u, v) ), x )\r\nwhat will happen if we do this\r\nf( u, x) + f( v, x) \u2013 2*f( lca(u, v), x )","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>f( u, x) + f( v, x) \u2013 2*f( lca(u, v), x ) - If this is done then the \"lca(u, v)\" node is not counted at all. It is added twice in initial 2 functions and again removed twice.\u003c/p>\u003cp>Draw a simple tree. Consider random u, v nodes and check what happens for f(u) + f(v) - 2 * f( lca(u, v) ). Where f(u) means traveling from root to u and putting a dot on the node. -f(u) means traveling from root to u and erasing a dot on the node.\u003c/p>\u003cp>At the end of your formula there should be exactly one dot on each node from u to v path.\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"anudeep2011","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"2918641718","isDeletedByAuthor":false,"createdAt":"2014-12-26T21:08:18","parent":2918641714,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"f( u, x) + f( v, x) \u2013 2*f( lca(u, v), x ) - If this is done then the \"lca(u, v)\" node is not counted at all. It is added twice in initial 2 functions and again removed twice.\n\nDraw a simple tree. Consider random u, v nodes and check what happens for f(u) + f(v) - 2 * f( lca(u, v) ). Where f(u) means traveling from root to u and putting a dot on the node. -f(u) means traveling from root to u and erasing a dot on the node.\n\nAt the end of your formula there should be exactly one dot on each node from u to v path.","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>can you please explain this line \"This trick works only because all input values are distinct\"?I don't understand why it doesn't work if input values aren't distinct.\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"sundar","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"2918641711","isDeletedByAuthor":false,"createdAt":"2014-07-30T21:52:07","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"can you please explain this line \"This trick works only because all input values are distinct\"?I don't understand why it doesn't work if input values aren't distinct.","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Well it is both yes and no.\u003cbr>Let us say we have 2 occurrences of 7. One at index 1 and another at index 10. Now our query is for [3, 12] so we take it like [1..12] - [1..2], we are actually removing the 7 but it is still present at index 10.\u003c/p>\u003cp>We can modify the logic, instead of just storing presence of number, we can store count of number and it should work then.\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"anudeep2011","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"2918641877","isDeletedByAuthor":false,"createdAt":"2014-08-16T20:45:50","parent":2918641711,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Well it is both yes and no.\nLet us say we have 2 occurrences of 7. One at index 1 and another at index 10. Now our query is for [3, 12] so we take it like [1..12] - [1..2], we are actually removing the 7 but it is still present at index 10.\n\nWe can modify the logic, instead of just storing presence of number, we can store count of number and it should work then.","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Hey anudeep, can MKTHNUM be solved using fractional cascading and merge sort trees?\u003cbr>This is what I've tried- \u003cbr>1. Created a merge sort tree M[LOGN][N] to keep a track of sorted values in different levels. Level 0 containing the complete sorted array.\u003cbr>2. For any query [i,j] got disjoint intervals(at max logN number of them). \u003cbr>3. Binary search for X for which number of elements &lt; X in all lists = k using fractional cascading.( log(maximumNumber-minimumNumber)*log(N) )\u003c/p>\u003cp>Doubts-\u003cbr>What will be the complexity of creating a merged list out of these k sorted lists. Will it be k.log(N) ?\u003cbr>Secondly, the numbers can be upto 10^9 . I am not able to understand how will a binary search on [mininumNumber, maximumNumber] will work in time.\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"Nitin","url":"http://codechef.com/users/nitinj","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Fcodechef.com%2Fusers%2Fnitinj&key=Z-EQLRtRDGFlLzgZuC6w0w","isAnonymous":true},"media":[],"id":"2918641709","isDeletedByAuthor":false,"createdAt":"2014-07-27T17:13:44","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Hey anudeep, can MKTHNUM be solved using fractional cascading and merge sort trees?\r\nThis is what I've tried- \r\n1. Created a merge sort tree M[LOGN][N] to keep a track of sorted values in different levels. Level 0 containing the complete sorted array.\r\n2. For any query [i,j] got disjoint intervals(at max logN number of them). \r\n3. Binary search for X for which number of elements &#60; X in all lists = k using fractional cascading.( log(maximumNumber-minimumNumber)*log(N) )\r\n\r\nDoubts-\r\nWhat will be the complexity of creating a merged list out of these k sorted lists. Will it be k.log(N) ?\r\nSecondly, the numbers can be upto 10^9 . I am not able to understand how will a binary search on [mininumNumber, maximumNumber] will work in time.","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>1) I have no idea about fractional cascading and merge sort trees.\u003c/p>\u003cp>Merging K sorted lists is not k * log(N) because for 2 lists of length N/2. You will have 2 * log( N ) which is not true.\u003cbr>Simple upper bound is N * log(N), Proof? Just join those k lists and sort them.\u003c/p>\u003cp>Yes the numbers are up to 10^9, one method is you can use coordinate-compression.\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"anudeep2011","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"2918641876","isDeletedByAuthor":false,"createdAt":"2014-08-16T21:00:28","parent":2918641709,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"1) I have no idea about fractional cascading and merge sort trees.\n\nMerging K sorted lists is not k * log(N) because for 2 lists of length N/2. You will have 2 * log( N ) which is not true.\nSimple upper bound is N * log(N), Proof? Just join those k lists and sort them.\n\nYes the numbers are up to 10^9, one method is you can use coordinate-compression.","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>here is one more problem which can be solved using persistent segment tree.\u003cbr>\u003ca href=\"http://disq.us/url?url=http%3A%2F%2Fwww.codechef.com%2Fproblems%2FFRBSUM%3AkLReYz3-znNa1ZHrB07HWPpZPic&amp;cuid=2891552\" rel=\"nofollow noopener\">http://www.codechef.com/pro...\u003c/a>\u003cbr>Thanx for such a great help\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"ma5termind","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"2918641707","isDeletedByAuthor":false,"createdAt":"2014-07-14T08:28:37","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"here is one more problem which can be solved using persistent segment tree.\r\nhttp://www.codechef.com/problems/FRBSUM\r\nThanx for such a great help","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous","links"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>could u explain this line \"f( u, x) + f( v, x) \u2013 f( lca(u, v), x ) \u2013 f( parent( lca(u, v) ), x ) \". Why r u subtracting \"f( parent( lca(u, v) ), x\" ??\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"avinashmailAvinash","url":"http://gravatar.com/avinashmail","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Fgravatar.com%2Favinashmail&key=0ue4cLgjsrHGD7IpF7-t-Q","isAnonymous":true},"media":[],"id":"2918641706","isDeletedByAuthor":false,"createdAt":"2014-07-13T17:40:19","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"could u explain this line \"f( u, x) + f( v, x) \u2013 f( lca(u, v), x ) \u2013 f( parent( lca(u, v) ), x ) \". Why r u subtracting \"f( parent( lca(u, v) ), x\" ??","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Take some tree image ( Google for it ). Now f(u, x) means root to u.\u003cbr>Now terms f(u, x) and f(v, x) are additions, so consider rounding each node on the path from root to u and root to v.\u003cbr>terms f( lca(u, v), x ) and f( parent( lca(u, v) ), x ) are deletions, so consider erasing one rounding on each node on the path from root to lca(u,v) and root to parent( lca(u,v) ). You will notice that you will be left with rounds on path from u to v, which is exactly what you need.\u003c/p>\u003cp>Try this with different u, v values if needed.\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"anudeep2011","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"2918641878","isDeletedByAuthor":false,"createdAt":"2014-07-13T20:59:18","parent":2918641706,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Take some tree image ( Google for it ). Now f(u, x) means root to u.\r\nNow terms f(u, x) and f(v, x) are additions, so consider rounding each node on the path from root to u and root to v.\r\nterms f( lca(u, v), x ) and f( parent( lca(u, v) ), x ) are deletions, so consider erasing one rounding on each node on the path from root to lca(u,v) and root to parent( lca(u,v) ). You will notice that you will be left with rounds on path from u to v, which is exactly what you need.\r\n\r\nTry this with different u, v values if needed.","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Hi anudeep\u003c/p>\u003cp>I tried the above but i feel it should be f( u, x) + f( v, x) \u2013 2 * f( lca(u, v), x ) . Could you please explain this.\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"yogi","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"2918641975","isDeletedByAuthor":false,"createdAt":"2014-11-06T13:17:27","parent":2918641878,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Hi anudeep\r\n\r\nI tried the above but i feel it should be f( u, x) + f( v, x) \u2013 2 * f( lca(u, v), x ) . Could you please explain this.","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":2,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>f( u, x) + f( v, x) \u2013 2*f( lca(u, v), x ) - If this is done then the \"lca(u, v)\" node is not counted at all. It is added twice in initial 2 functions and again removed twice.\u003c/p>\u003cp>Draw a simple tree. Consider random u, v nodes and check what happens for f(u) + f(v) - 2 * f( lca(u, v) ). Where f(u) means traveling from root to u and putting a dot on the node. -f(u) means traveling from root to u and erasing a dot on the node.\u003c/p>\u003cp>At the end of your formula there should be exactly one dot on each node from u to v path.\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"anudeep2011","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"2918642098","isDeletedByAuthor":false,"createdAt":"2014-12-26T21:09:06","parent":2918641975,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"f( u, x) + f( v, x) \u2013 2*f( lca(u, v), x ) - If this is done then the \"lca(u, v)\" node is not counted at all. It is added twice in initial 2 functions and again removed twice.\n\nDraw a simple tree. Consider random u, v nodes and check what happens for f(u) + f(v) - 2 * f( lca(u, v) ). Where f(u) means traveling from root to u and putting a dot on the node. -f(u) means traveling from root to u and erasing a dot on the node.\n\nAt the end of your formula there should be exactly one dot on each node from u to v path.","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":3,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Nice explanation!\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"Sreenivasan AC","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"id":"2918641705","isDeletedByAuthor":false,"createdAt":"2014-07-13T14:02:28","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Nice explanation!","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"dislikes":1,"numReports":0,"likes":0,"message":"\u003cp>First of all thanks for such a great explanation. I wanted to another problem which can be done using Persistent segment tree.\u003cbr>\u003ca href=\"https://disq.us/url?url=https%3A%2F%2Fwww.hackerrank.com%2Fcontests%2Fmorgan-stanley-2015%2Fchallenges%2Fwet-shark-and-kth-largest-number%3ANIVhB53B7jYJcuEysTDW5a_HKXQ&amp;cuid=2891552\" rel=\"nofollow noopener\">https://www.hackerrank.com/...\u003c/a>\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"name":"abhishekbind2013","url":"http://gravatar.com/abhishekbind2013","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar32.png","cache":"//a.disquscdn.com/1496872724/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1496872724/images/noavatar92.png","cache":"//a.disquscdn.com/1496872724/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Fgravatar.com%2Fabhishekbind2013&key=oQ3W8XEd15BC-nugIcuczA","isAnonymous":true},"media":[],"id":"2918641727","isDeletedByAuthor":false,"createdAt":"2016-01-24T18:11:25","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"First of all thanks for such a great explanation. I wanted to another problem which can be done using Persistent segment tree.\r\nhttps://www.hackerrank.com/contests/morgan-stanley-2015/challenges/wet-shark-and-kth-largest-number","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":0,"points":-1,"moderationLabels":["anonymous","links"],"isEdited":false,"sb":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Is there a way to solve that problem with Binary Search tree?\u003c/p>","isSpam":false,"isHighlighted":false,"author":{"username":"disqus_CiCVrvq3yj","about":"Student","name":"Rohit","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2014-09-18T09:57:08","profileUrl":"https://disqus.com/by/disqus_CiCVrvq3yj/","url":"","location":"Kolkata,India","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"122420938","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/disqus_CiCVrvq3yj.jpg","cache":"https://c.disquscdn.com/uploads/users/12242/938/avatar32.jpg?1411034243"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/disqus_CiCVrvq3yj.jpg","cache":"https://c.disquscdn.com/uploads/users/12242/938/avatar92.jpg?1411034243","large":{"permalink":"https://disqus.com/api/users/avatars/disqus_CiCVrvq3yj.jpg","cache":"https://c.disquscdn.com/uploads/users/12242/938/avatar92.jpg?1411034243"}}},"media":[],"id":"3174823645","isDeletedByAuthor":false,"createdAt":"2017-02-25T19:47:16","parent":2918641727,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Is there a way to solve that problem with Binary Search tree?","canVote":false,"thread":"5173686333","forum":"anudeep2011","depth":1,"points":0,"moderationLabels":[],"isEdited":false,"sb":false}],"thread":{"feed":"https://anudeep2011.disqus.com/persistent_segment_trees_explained_with_spoj_problems/latest.rss","author":"98013784","dislikes":0,"likes":1,"message":"","id":"5173686333","createdAt":"2014-07-13T08:36:15","category":"2935235","title":"Persistent segment trees &#8211; Explained with spoj problems","isSpam":false,"signedLink":"https://disq.us/?url=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&key=EoatVUgwMNxywyM4Zd4umg","isDeleted":false,"hasStreaming":false,"raw_message":"","isClosed":false,"link":"https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/","slug":"persistent_segment_trees_explained_with_spoj_problems","forum":"anudeep2011","identifiers":["108 http://blog.anudeep2011.com/?p=108"],"posts":38,"clean_title":"Persistent segment trees \u2013 Explained with spoj problems","moderators":[98013784],"validateAllPosts":false,"highlightedPost":null}},"order":"popular"}</script>


    <div id="fixed-content"></div>


    
        
<script type="text/json" id="disqus-urls">{
    "root":"//disqus.com",
    "next":"https://c.disquscdn.com/next/current/embed"
}</script>

        
        <script>!function () {
            var d = document;
            var toH = d.head.appendChild.bind(d.head);

            var v = window.location.href.match(/[#&?]version=([0-9a-f]{32})/);
            var src = 'https://c.disquscdn.com/next/embed/lounge.load';
            if (v)
                src += '.' + v[1];
            src += '.js';

            var s = d.createElement('script');
            s.crossOrigin = 'anonymous';
            s.id = 'bootstrap-script';
            s.setAttribute('data-app', 'lounge');
            s.src = src;
            toH(s);

            var m = d.createElement('meta');
            m.setAttribute('http-equiv', 'Content-Security-Policy');
            m.setAttribute('content', "script-src https:;");
            toH(m);
        }();</script>
    


<script src="./common.bundle.90517cf61c3519992d816707359eb2b0.js.download"></script><div id="layout" data-tracking-area="layout"><div id="onboard" data-tracking-area="onboard"></div><div id="highlighted-post" data-tracking-area="highlighted" class="highlighted-post" style="display: none;"></div><div id="global-alert"></div><header id="main-nav" data-tracking-area="main-nav"><nav class="nav nav-primary"><ul><li class="nav-tab nav-tab--primary tab-conversation active" data-role="post-count"><a class="publisher-nav-color"><span class="comment-count">38 comments</span><span class="comment-count-placeholder">Comments</span></a></li><li class="nav-tab nav-tab--primary tab-community"><a href="https://disqus.com/home/forums/anudeep2011/" class="publisher-nav-color" data-action="community-sidebar" data-forum="anudeep2011" id="community-tab"><span class="community-name"><strong>anudeep2011.com</strong></span><strong class="community-name-placeholder">Community</strong></a></li><li class="nav-tab nav-tab--primary dropdown user-menu" data-role="logout"><a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="dropdown-toggle" data-toggle="dropdown">
<span class="dropdown-toggle-wrapper">

<span>
Login
</span>

</span> <span class="caret"></span>
</a>
<ul class="dropdown-menu">


<li>
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="auth:disqus">Disqus</a>
</li>
<li>
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="auth:facebook">Facebook</a>
</li>
<li>
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="auth:twitter">Twitter</a>
</li>
<li>
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="auth:google">Google</a>
</li>



</ul>
</li><li class="nav-tab nav-tab--primary notification-menu unread" data-role="notification-menu"><a href="https://disqus.com/home/inbox/" class="notification-container" data-action="home" data-home-path="home/inbox/">
<span class="notification-icon icon-comment" aria-hidden=""></span>
<span class="notification-count" data-role="notification-count">1</span>
</a>
</li></ul></nav></header><section id="conversation" data-role="main" data-tracking-area="main"><div class="nav nav-secondary" data-tracking-area="secondary-nav"><ul><li id="recommend-button" class="nav-tab nav-tab--secondary recommend dropdown"><div class="thread-likes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="recommend" title="Recommend this discussion" class="dropdown-toggle ">
<span class="label label-default"><span class="recommend-icon icon-heart-empty"></span> Recommend</span>
<span class="label label-recommended"><span class="recommend-icon icon-heart"></span> Recommended</span>
<span class="label label-count">1</span>
</a>
<ul class="dropdown-menu dropdown-menu--coachmark">
<li>
<h2 class="coachmark__heading">Discussion Recommended!</h2>
<p class="coachmark__description">Recommending means this is a discussion worth sharing. It gets shared to your followers' Disqus feeds, and gives the creator kudos!</p>
<a href="https://disqus.com/home/?utm_source=disqus_embed&amp;utm_content=recommend_btn" class="btn btn-primary coachmark__button" target="_blank">
 Find More Discussions 
</a>
</li>
</ul>
</div></li><li id="thread-share-menu" class="nav-tab nav-tab--secondary dropdown share-menu hidden-sm"><a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="dropdown-toggle" data-toggle="dropdown" title="Share">
<span class="icon-export"></span>
<span class="label">Share</span>
</a>
<ul class="share-menu dropdown-menu">
<li>
<div class="share-menu__label">Share this discussion on</div>
<ul>
<li class="twitter">
<a data-action="share:twitter" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#">Twitter</a>
</li>
<li class="facebook">
<a data-action="share:facebook" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#">Facebook</a>
</li>
</ul>
</li>
</ul>
</li><li data-role="post-sort" class="nav-tab nav-tab--secondary dropdown sorting pull-right"><a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="dropdown-toggle" data-toggle="dropdown">Sort by Best<span class="caret"></span></a><ul class="dropdown-menu pull-right"><li class="selected"><a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="sort" data-sort="popular">Best<i aria-hidden="true" class="icon-checkmark"></i></a></li><li class=""><a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="sort" data-sort="desc">Newest<i aria-hidden="true" class="icon-checkmark"></i></a></li><li class=""><a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="sort" data-sort="asc">Oldest<i aria-hidden="true" class="icon-checkmark"></i></a></li></ul></li></ul></div><div id="posts"><div id="form" class="textarea-wrapper--top-level"><form class="reply"><div class="postbox">
<div role="alert"></div>
<div class="avatar">
<span class="user">
<img data-role="user-avatar" src="./noavatar92.7b2fde640943965cc88df0cdee365907.png" alt="Avatar">
</span>
</div>

<div class="textarea-wrapper" data-role="textarea" dir="auto"><div><span class="placeholder">Join the discussion…</span><div class="textarea" tabindex="0" role="textbox" aria-multiline="true" contenteditable="PLAINTEXT-ONLY" data-role="editable" aria-label="Join the discussion…" style="overflow: auto; word-wrap: break-word; max-height: 350px;"><p><br></p></div><div style="display: none;"><ul class="user-mention__list">
<li class="header user-mention__header">
<h5>in this conversation</h5>
</li>
</ul>
</div></div>
<div data-role="drag-drop-placeholder" class="media-drag-hover" style="display: none">
<div class="drag-text">
⬇ Drag and drop your images here to upload them.
</div>
</div>
<div class="media-preview empty" data-role="media-preview"><ul data-role="media-progress-list"></ul>
<ul data-role="media-rich-list"></ul>
<div class="media-expanded empty" data-role="media-preview-expanded">
<img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-role="media-preview-expanded-image" alt="Media preview placeholder">
</div>
</div>
<div class="edit-alert" role="postbox-alert"></div>
<div class="post-actions">
<ul class="wysiwyg">
<li class="wysiwyg__item" data-role="media-uploader"><a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" tabindex="-1" data-action="attach" class="attach" title="Upload Images"><span>Attach</span></a>
<input type="file" data-role="media-upload" tabindex="-1" accept="image/*">
</li>
</ul>
</div>
</div>

<div data-role="login-form"><div><section class="auth-section logged-out">
<div class="connect">
<h6>Log in with</h6>
<ul data-role="login-menu" class="services login-buttons">

<li class="auth-disqus">
<button type="button" data-action="auth:disqus" title="Disqus" class="connect__button"><i class="icon-disqus"></i></button>
</li>
<li class="auth-facebook">
<button type="button" data-action="auth:facebook" title="Facebook" class="connect__button"><i class="icon-facebook-circle"></i></button>
</li>
<li class="auth-twitter">
<button type="button" data-action="auth:twitter" title="Twitter" class="connect__button"><i class="icon-twitter-circle"></i></button>
</li>
<li class="auth-google">
<button type="button" data-action="auth:google" title="Google" class="connect__button"><i class="icon-google-plus-circle"></i></button>
</li>
</ul>
</div>
<div class="guest">
<h6 class="guest-form-title">
<span class="register-text"> or sign up with Disqus </span>
<span class="guest-text"> or pick a name </span>
</h6>

<div class="help-tooltip__wrapper help-icon">
<div id="rules" class="tooltip show help-tooltip">
<h3 class="help-tooltip__heading">Disqus is a discussion network</h3>
<ul class="help-tooltip__list">
<li><span>Disqus never moderates or censors. The rules on this community are its own.</span></li>
<li><span>Your email is safe with us. It's only used for moderation and optional notifications.</span></li>
<li><span>Don't be a jerk or do anything illegal. Everything is easier that way.</span></li>
</ul>
<p class="clearfix"><a href="https://docs.disqus.com/kb/terms-and-policies/" class="btn btn-small help-tooltip__button" target="_blank">Read full terms and conditions</a></p>
</div>
</div>

<p class="input-wrapper">
<input dir="auto" type="text" placeholder="Name" name="display_name" id="view107_display_name" maxlength="30" class="input--text">
</p>

<div class="guest-details " data-role="guest-details">
<p class="input-wrapper">
<input dir="auto" type="email" placeholder="Email" name="email" id="view107_email" class="input--text">
</p>

<p class="input-wrapper">
<input dir="auto" type="password" class="register-text input--text" placeholder="Password" name="password" id="view107_password">
</p>

<div class="acceptance-wrapper register-text">
By signing up, you agree to the Disqus <a target="_blank" href="https://help.disqus.com/customer/portal/articles/1753105-basic-rules-for-disqus-powered-profiles-and-discussions">Basic Rules</a>, <a target="_blank" href="https://help.disqus.com/customer/portal/articles/466260-terms-of-service">Terms of Service</a>, and <a target="_blank" href="https://help.disqus.com/customer/portal/articles/466259-privacy-policy">Privacy Policy</a>.
</div>
<div class="acceptance-wrapper guest-text">
By posting, you agree to the Disqus <a target="_blank" href="https://help.disqus.com/customer/portal/articles/1753105-basic-rules-for-disqus-powered-profiles-and-discussions">Basic Rules</a>, <a target="_blank" href="https://help.disqus.com/customer/portal/articles/466260-terms-of-service">Terms of Service</a>, and <a target="_blank" href="https://help.disqus.com/customer/portal/articles/466259-privacy-policy">Privacy Policy</a>.
</div>

<div class="guest-checkbox">
<label>
<input type="checkbox" name="author-guest">
I'd rather post as a guest
</label>
</div>

<div class="proceed" data-role="submit-btn-container">
<button type="submit" class="proceed__button btn submit" aria-label="Post"><span class="icon-proceed"></span><div class="spinner"></div></button>
<button type="submit" class="proceed__button btn next" aria-label="Next"><span class="icon-proceed"></span><div class="spinner"></div></button>
</div>
</div>
</div>
</section>

</div></div>
</div>
</form></div><button class="alert alert--realtime" data-role="realtime-notification" style="display: none;"></button><div id="no-posts" style="display: none;"></div><ul id="post-list" class="post-list"><li class="post" id="post-3334722957"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar hovercard">
<a href="https://disqus.com/by/prateek_behera/" class="user" data-action="profile" data-username="prateek_behera">
<img data-role="user-avatar" data-user="253634861" src="./noavatar92.png" data-src="https://c.disquscdn.com/uploads/users/25363/4861/avatar92.jpg?1496301832" alt="Avatar">
</a>
</div>
<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author publisher-anchor-color"><a href="https://disqus.com/by/prateek_behera/" data-action="profile" data-username="prateek_behera" data-role="username">Prateek Behera</a></span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-3334722957" data-role="relative-time" class="time-ago" title="Thursday, June 1, 2017 12:53 PM">9 days ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>can someone explain me why we use coordinate compression.In the coordinate compression method we use grids of huge size .how we relate it to segment trees.<br>Thanks...</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1j5eop9" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3334722957">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3344819658"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">Kaushik</span>

<span><a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-3334722957" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> Prateek Behera</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-3344819658" data-role="relative-time" class="time-ago" title="Tuesday, June 6, 2017 10:53 PM">4 days ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>It is because the weights of the nodes can be as huge as 10^9, and we can't afford segment trees covering the range [1, 10^9]. So we use the fact that there exists only 10^5 weights and map all the weights to a number in range 1 to 10^5. It is one dimensional coordinate compression :). It will get more clear if you see the code provided.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1jbf3d6" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3344819658">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li><li class="post" id="post-3328285040"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">Akshat</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-3328285040" data-role="relative-time" class="time-ago" title="Sunday, May 28, 2017 10:06 AM">14 days ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>And in MKTHNUM why did you say that if you had N^2 seg trees you could answer each query in log(N), you could rather have N^2 arrays and answer each query in O(1).</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1j1kp68" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3328285040">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-3328275029"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">Akshat</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-3328275029" data-role="relative-time" class="time-ago" title="Sunday, May 28, 2017 9:52 AM">14 days ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>In the problem COT, I think the question isn't clear. There is no info about what kind of tree is this, I mean how do we know that in the path 1-&gt;10 we need to go from 1-&gt;2-&gt;...-&gt;10, it depends on the tree right? Otherwise it should be mentioned that it is a linear array.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1j1khg5" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3328275029">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-3143024044"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar hovercard">
<a href="https://disqus.com/by/disqus_So7M71qmq8/" class="user" data-action="profile" data-username="disqus_So7M71qmq8">
<img data-role="user-avatar" data-user="214806305" src="./noavatar92.png" data-src="//a.disquscdn.com/1496872724/images/noavatar92.png" alt="Avatar">
</a>
</div>
<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author publisher-anchor-color"><a href="https://disqus.com/by/disqus_So7M71qmq8/" data-action="profile" data-username="disqus_So7M71qmq8" data-role="username">Jaswant Singh</a></span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-3143024044" data-role="relative-time" class="time-ago" title="Wednesday, February 8, 2017 2:55 AM">4 months ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>can you please explain DQUERY - D-query : using persistent tree : <a href="http://disq.us/url?url=http%3A%2F%2Fwww.spoj.com%2Fproblems%2FDQUERY%2F%3AkWvsIlEtU7g9lwPDqyPhZIhVmko&amp;cuid=2891552" rel="nofollow noopener">http://www.spoj.com/problem...</a></p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1fz9wvg" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3143024044">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-2918641735"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">Abdo</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641735" data-role="relative-time" class="time-ago" title="Wednesday, September 14, 2016 10:09 PM">9 months ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Hi anudeep <br>How we can make lazy propagation with persistent segment tree ?</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omdj" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641735">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-2918641734"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">John Wu</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641734" data-role="relative-time" class="time-ago" title="Thursday, August 25, 2016 9:59 PM">10 months ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Thanks for the great post!</p><p>One question, how do you deal with interval update? We could use lazy flag in trivial segment tree, which allows us to delay interval operations to the future. When accessing lazy-flagged node, we simply pass it down to children nodes.</p><p>In persistent segment tree, passing down a lazy flag could change the result of previous versions. When update(i, j), eventually in the worst case we need to create 2 * (j – i + 1) new nodes (basically a new segment tree for that interval) to prevent damage in previous versions. That is not memory efficient.</p><p>Any idea?</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omdi" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641734">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-2918641731"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">Dipjal Chhetri</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641731" data-role="relative-time" class="time-ago" title="Saturday, August 20, 2016 6:45 PM">10 months ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>@anudeep2011 What exactly is 'count' storing here?</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omdf" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641731">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-2918641732"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">Aatmaram</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641732" data-role="relative-time" class="time-ago" title="Thursday, August 11, 2016 9:32 PM">10 months ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Thanks for Sharing.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omdg" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641732">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-2918641729"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">Xyleth</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641729" data-role="relative-time" class="time-ago" title="Friday, June 17, 2016 1:20 AM">a year ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>I dont undertand how do you build your segment tree and how it works. Do yo have some resource to learn about that specific segment tree?</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omdd" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641729">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-2918641728"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">sunil</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641728" data-role="relative-time" class="time-ago" title="Sunday, February 14, 2016 4:28 PM">a year ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>@Anudeep Can you please explain MKTHNUM with example how code is working...</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omdc" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641728">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-2918641726"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">phqb</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641726" data-role="relative-time" class="time-ago" title="Saturday, July 25, 2015 8:54 PM">2 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Thank you for this great post. :D<br>There is one point I haven't gotten yet. Can you describe more the segment tree you use to find the number of nodes with value less than x on the path from root to u?</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omda" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641726">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-2918641725"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">ANKIT KUMAR</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641725" data-role="relative-time" class="time-ago" title="Wednesday, July 22, 2015 3:03 PM">2 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Can u elaborate the mkthnum lil more<br>i know only basic segment tree and lazy propagation</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omd9" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641725">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-2918641724"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">parijat</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641724" data-role="relative-time" class="time-ago" title="Monday, June 29, 2015 9:15 PM">2 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p><a href="https://disq.us/url?url=https%3A%2F%2Fupload.wikimedia.org%2Fwikipedia%2Fcommons%2Fthumb%2F5%2F56%2FPurely_functional_tree_after.svg%2F438px-Purely_functional_tree_after.svg.png%3Ag21-9RytlWA_Z1npj58Ghv0fVnc&amp;cuid=2891552" rel="nofollow noopener">https://upload.wikimedia.or...</a></p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omd8" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641724">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-2918641723"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">Rodolfo Miquilarena</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641723" data-role="relative-time" class="time-ago" title="Friday, April 3, 2015 7:12 AM">2 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>hello , i have a question, i have been trying to solve this problem</p><p><a href="http://disq.us/url?url=http%3A%2F%2Fwww.spoj.com%2Fproblems%2FTEMPLEQ%2F%3Aat-Z39rXbFyyCAISuRBb7AswQQs&amp;cuid=2891552" rel="nofollow noopener">http://www.spoj.com/problem...</a></p><p>i think its this method (which is amazing) however i don't know how to do a proper update on the tree because of how it is built, do you have any idea on how to do updates on the persistent segment tree DS? :) i bet you do, thanks in advance.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omd7" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641723">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-2918641719"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">jugal kishor sahu</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641719" data-role="relative-time" class="time-ago" title="Sunday, March 15, 2015 3:20 PM">2 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>In your code</p><p>struct node<br>{<br>int count;<br>node *left, *right;<br>node(int count, node *left, node *right):<br>count(count), left(left), right(right) {}<br>node* insert(int l, int r, int w);<br>          --------<br>};</p><p>how this insert works....can you provide some link so that i can get more...</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omd3" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641719">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-2918641720"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">shaheen13</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641720" data-role="relative-time" class="time-ago" title="Tuesday, February 3, 2015 8:22 PM">2 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>For problem "COT",<br>you don't need to use faster IO. <br>just avoid "map". <br>instead of this , use binary search for data compression . <br>i just edited your , and got AC.<br><a href="http://disq.us/url?url=http%3A%2F%2Fpaste.ubuntu.com%2F10031841%2F%3ARzHzqC7AvnfkWYeTNEKYmW9qi9Q&amp;cuid=2891552" rel="nofollow noopener">http://paste.ubuntu.com/100...</a></p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omd4" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641720">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-2918641721"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">Petar</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641721" data-role="relative-time" class="time-ago" title="Sunday, February 1, 2015 7:32 AM">2 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>I can't undertand what do you mean by having segment tree for every interval,<br>how would that segment tree look like , can you please elaborate on that?</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omd5" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641721">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-2918641717"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">Aditya</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641717" data-role="relative-time" class="time-ago" title="Monday, December 22, 2014 2:27 PM">2 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>A very powerful and detailed explanation. Thanks so much! Are there any other problems on SPOJ that require persistent segment trees so that I can practice the logic myself?</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omd1" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641717">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-2918641715"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">Rahul Kumar</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641715" data-role="relative-time" class="time-ago" title="Thursday, December 18, 2014 8:00 PM">2 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>i has basic understanding of segment <a href="http://disq.us/url?url=http%3A%2F%2Ftree.my%3AhJLo7gZPmaZElyUqjLM6PgIXhrI&amp;cuid=2891552" rel="nofollow noopener">tree.my</a> doubt is,<br>we have to take array size of 2^n for make segment tree of n element array,then how to make segment tree of 30 or greater elements,because 2^30 = 1073741824<br>then how to take array of this larger size for make segment tree,how to implement ?</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omcz" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641715">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-2918641880"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">anudeep2011</span>

<span><a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641715" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> Rahul Kumar</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641880" data-role="relative-time" class="time-ago" title="Saturday, December 27, 2014 2:32 AM">2 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>You will not need 2^n space.<br>Number of nodes in last level = N (Assume N is of the form 2^m for simplicity)<br>Number of nodes in one level above = N/2<br>..<br>Number of nodes in 2nd level = 2<br>Number of nodes in 1st level = 1</p><p>Total nodes = N + N/2 + N/4 + ... N/(N/2) + N/N<br>            = N ( 1 + 1/2 + 1/4 + 1/8 + ...)<br>            = 2 * N (<a href="http://disq.us/url?url=http%3A%2F%2Fen.wikipedia.org%2Fwiki%2F1%2F2_%252B_1%2F4_%252B_1%2F8_%252B_1%2F16_%252B_%25E2%258B%25AF%3AHGJ8hoCKP6u4d82gYBU7wK-NWaI&amp;cuid=2891552" rel="nofollow noopener" title="check this">Why 2*N?</a>)</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omhk" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641880">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-2918641882"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">Rahul Kumar</span>

<span><a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641880" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> anudeep2011</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641882" data-role="relative-time" class="time-ago" title="Saturday, December 27, 2014 8:47 PM">2 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>ok,now it is clear,thanks :)</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omhm" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641882">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li></ul>
</li><li class="post" id="post-2918641713"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">niloy</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641713" data-role="relative-time" class="time-ago" title="Sunday, October 12, 2014 10:05 PM">3 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>what to do when we have to update the values, such that, changing value of a index? then how to handle the tree?</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omcx" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641713">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-2918641722"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">anudeep2011</span>

<span><a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641713" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> niloy</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641722" data-role="relative-time" class="time-ago" title="Sunday, December 28, 2014 1:44 PM">2 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>It would still be the same. You will have a new node (with new values) in the last level of segment tree. Then there will be O(log N) updated nodes as we go levels up till the root.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omd6" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641722">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li><li class="post" id="post-2918641714"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">Dharmendra</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641714" data-role="relative-time" class="time-ago" title="Tuesday, September 2, 2014 11:05 AM">3 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>i dont know how is this working<br>f( u, x) + f( v, x) – f( lca(u, v), x ) – f( parent( lca(u, v) ), x )<br>what will happen if we do this<br>f( u, x) + f( v, x) – 2*f( lca(u, v), x )</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omcy" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641714">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-2918641718"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">anudeep2011</span>

<span><a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641714" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> Dharmendra</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641718" data-role="relative-time" class="time-ago" title="Saturday, December 27, 2014 2:38 AM">2 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>f( u, x) + f( v, x) – 2*f( lca(u, v), x ) - If this is done then the "lca(u, v)" node is not counted at all. It is added twice in initial 2 functions and again removed twice.</p><p>Draw a simple tree. Consider random u, v nodes and check what happens for f(u) + f(v) - 2 * f( lca(u, v) ). Where f(u) means traveling from root to u and putting a dot on the node. -f(u) means traveling from root to u and erasing a dot on the node.</p><p>At the end of your formula there should be exactly one dot on each node from u to v path.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omd2" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641718">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li><li class="post" id="post-2918641711"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">sundar</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641711" data-role="relative-time" class="time-ago" title="Thursday, July 31, 2014 3:22 AM">3 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>can you please explain this line "This trick works only because all input values are distinct"?I don't understand why it doesn't work if input values aren't distinct.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omcv" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641711">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-2918641877"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">anudeep2011</span>

<span><a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641711" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> sundar</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641877" data-role="relative-time" class="time-ago" title="Sunday, August 17, 2014 2:15 AM">3 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Well it is both yes and no.<br>Let us say we have 2 occurrences of 7. One at index 1 and another at index 10. Now our query is for [3, 12] so we take it like [1..12] - [1..2], we are actually removing the 7 but it is still present at index 10.</p><p>We can modify the logic, instead of just storing presence of number, we can store count of number and it should work then.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omhh" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641877">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li><li class="post" id="post-2918641709"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">Nitin</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641709" data-role="relative-time" class="time-ago" title="Sunday, July 27, 2014 10:43 PM">3 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Hey anudeep, can MKTHNUM be solved using fractional cascading and merge sort trees?<br>This is what I've tried- <br>1. Created a merge sort tree M[LOGN][N] to keep a track of sorted values in different levels. Level 0 containing the complete sorted array.<br>2. For any query [i,j] got disjoint intervals(at max logN number of them). <br>3. Binary search for X for which number of elements &lt; X in all lists = k using fractional cascading.( log(maximumNumber-minimumNumber)*log(N) )</p><p>Doubts-<br>What will be the complexity of creating a merged list out of these k sorted lists. Will it be k.log(N) ?<br>Secondly, the numbers can be upto 10^9 . I am not able to understand how will a binary search on [mininumNumber, maximumNumber] will work in time.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omct" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641709">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-2918641876"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">anudeep2011</span>

<span><a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641709" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> Nitin</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641876" data-role="relative-time" class="time-ago" title="Sunday, August 17, 2014 2:30 AM">3 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>1) I have no idea about fractional cascading and merge sort trees.</p><p>Merging K sorted lists is not k * log(N) because for 2 lists of length N/2. You will have 2 * log( N ) which is not true.<br>Simple upper bound is N * log(N), Proof? Just join those k lists and sort them.</p><p>Yes the numbers are up to 10^9, one method is you can use coordinate-compression.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omhg" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641876">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li><li class="post" id="post-2918641707"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">ma5termind</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641707" data-role="relative-time" class="time-ago" title="Monday, July 14, 2014 1:58 PM">3 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>here is one more problem which can be solved using persistent segment tree.<br><a href="http://disq.us/url?url=http%3A%2F%2Fwww.codechef.com%2Fproblems%2FFRBSUM%3AkLReYz3-znNa1ZHrB07HWPpZPic&amp;cuid=2891552" rel="nofollow noopener">http://www.codechef.com/pro...</a><br>Thanx for such a great help</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omcr" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641707">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-2918641706"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">avinashmailAvinash</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641706" data-role="relative-time" class="time-ago" title="Sunday, July 13, 2014 11:10 PM">3 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>could u explain this line "f( u, x) + f( v, x) – f( lca(u, v), x ) – f( parent( lca(u, v) ), x ) ". Why r u subtracting "f( parent( lca(u, v) ), x" ??</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omcq" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641706">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-2918641878"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">anudeep2011</span>

<span><a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641706" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> avinashmailAvinash</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641878" data-role="relative-time" class="time-ago" title="Monday, July 14, 2014 2:29 AM">3 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Take some tree image ( Google for it ). Now f(u, x) means root to u.<br>Now terms f(u, x) and f(v, x) are additions, so consider rounding each node on the path from root to u and root to v.<br>terms f( lca(u, v), x ) and f( parent( lca(u, v) ), x ) are deletions, so consider erasing one rounding on each node on the path from root to lca(u,v) and root to parent( lca(u,v) ). You will notice that you will be left with rounds on path from u to v, which is exactly what you need.</p><p>Try this with different u, v values if needed.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omhi" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641878">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-2918641975"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">yogi</span>

<span><a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641878" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> anudeep2011</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641975" data-role="relative-time" class="time-ago" title="Thursday, November 6, 2014 6:47 PM">3 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Hi anudeep</p><p>I tried the above but i feel it should be f( u, x) + f( v, x) – 2 * f( lca(u, v), x ) . Could you please explain this.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omk7" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641975">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-2918642098"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">anudeep2011</span>

<span><a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641975" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> yogi</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918642098" data-role="relative-time" class="time-ago" title="Saturday, December 27, 2014 2:39 AM">2 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>f( u, x) + f( v, x) – 2*f( lca(u, v), x ) - If this is done then the "lca(u, v)" node is not counted at all. It is added twice in initial 2 functions and again removed twice.</p><p>Draw a simple tree. Consider random u, v nodes and check what happens for f(u) + f(v) - 2 * f( lca(u, v) ). Where f(u) means traveling from root to u and putting a dot on the node. -f(u) means traveling from root to u and erasing a dot on the node.</p><p>At the end of your formula there should be exactly one dot on each node from u to v path.</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omnm" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918642098">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li></ul>
</li></ul>
</li><li class="post" id="post-2918641705"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">Sreenivasan AC</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641705" data-role="relative-time" class="time-ago" title="Sunday, July 13, 2014 7:32 PM">3 years ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Nice explanation!</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omcp" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641705">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-2918641727"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">abhishekbind2013</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641727" data-role="relative-time" class="time-ago" title="Sunday, January 24, 2016 11:41 PM">a year ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>First of all thanks for such a great explanation. I wanted to another problem which can be done using Persistent segment tree.<br><a href="https://disq.us/url?url=https%3A%2F%2Fwww.hackerrank.com%2Fcontests%2Fmorgan-stanley-2015%2Fchallenges%2Fwet-shark-and-kth-largest-number%3ANIVhB53B7jYJcuEysTDW5a_HKXQ&amp;cuid=2891552" rel="nofollow noopener">https://www.hackerrank.com/...</a></p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-1" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1c9omdb" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:2918641727">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3174823645"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>
<div class="indicator"></div>

<div class="avatar hovercard">
<a href="https://disqus.com/by/disqus_CiCVrvq3yj/" class="user" data-action="profile" data-username="disqus_CiCVrvq3yj">
<img data-role="user-avatar" data-user="122420938" src="./noavatar92.png" data-src="https://c.disquscdn.com/uploads/users/12242/938/avatar92.jpg?1411034243" alt="Avatar">
</a>
</div>
<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author publisher-anchor-color"><a href="https://disqus.com/by/disqus_CiCVrvq3yj/" data-action="profile" data-username="disqus_CiCVrvq3yj" data-role="username">Rohit</a></span>

<span><a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-2918641727" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> abhishekbind2013</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="https://blog.anudeep2011.com/persistent-segment-trees-explained-with-spoj-problems/#comment-3174823645" data-role="relative-time" class="time-ago" title="Sunday, February 26, 2017 1:17 AM">4 months ago</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Is there a way to solve that problem with Binary Search tree?</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer">
<menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1gi7hlp" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3174823645">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li></ul><div class="load-more" data-role="more" style="display: none;"><a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" data-action="more-posts" class="btn load-more__button">Load more comments</a></div></div></section><div id="placement-bottom" data-tracking-area="discovery-south"><div class="post-list" style="height: 0px; visibility: hidden;"><div style="display: block; width: 100%;"></div></div></div><div id="footer" data-tracking-area="footer" class="disqus-footer__wrapper"><ul class="disqus-footer"><li class="disqus-footer__logo"><a href="https://disqus.com/" rel="nofollow" title="Powered by Disqus" class="disqus-footer__link">Powered by Disqus</a></li><li id="thread-subscribe-button" class="email disqus-footer__item"><div class="default"><a href="https://disqus.com/embed/comments/?base=default&amp;f=anudeep2011&amp;t_i=108%20http%3A%2F%2Fblog.anudeep2011.com%2F%3Fp%3D108&amp;t_u=https%3A%2F%2Fblog.anudeep2011.com%2Fpersistent-segment-trees-explained-with-spoj-problems%2F&amp;t_e=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;t_d=Persistent%20segment%20trees%20%E2%80%93%20Explained%20with%20spoj%20problems&amp;t_t=Persistent%20segment%20trees%20%26%238211%3B%20Explained%20with%20spoj%20problems&amp;s_o=default&amp;l=#" rel="nofollow" data-action="subscribe" title="Subscribe and get email updates from this discussion" class="disqus-footer__link"><i aria-hidden="true" class="icon icon-mail"></i><span class="clip">Subscribe</span><i aria-hidden="true" class="icon icon-checkmark"></i></a></div><div class="form"><div class="input-wrapper"><input id="thread-subscribe-email" type="email" placeholder="yourname@email.com" class="disqus-footer__input input--text"></div></div></li><li class="install disqus-footer__item"><a href="https://publishers.disqus.com/engage?utm_source=anudeep2011&amp;utm_medium=Disqus-Footer" rel="nofollow" target="_blank" class="disqus-footer__link"><i aria-hidden="true" class="icon icon-disqus"></i><span class="clip hidden-sm">Add Disqus to your site</span><span class="clip visible-sm hidden-xs">Add Disqus</span><span class="clip visible-xs">Add</span></a></li><li class="privacy disqus-footer__item"><a href="https://help.disqus.com/customer/portal/articles/1657951?utm_source=disqus&amp;utm_medium=embed-footer&amp;utm_content=privacy-btn" rel="nofollow" target="_blank" class="disqus-footer__link"><i aria-hidden="true" class="icon icon-lock"></i><span class="clip">Privacy</span></a></li></ul></div></div></body></html>