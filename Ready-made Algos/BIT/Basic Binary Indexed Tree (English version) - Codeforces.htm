

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="X-Csrf-Token" content="6504163200fc54991cc63fe9bcd8949b"/>
    <meta id="viewport" name="viewport" content="width=device-width, initial-scale=0.01"/>
    <script type="text/javascript" src="http://st.codeforces.com/s/93431/js/jquery-1.8.3.js"></script>
    <script type="application/javascript">
        function adjustViewport() {
            var screenWidthPx = Math.min($(window).width(), window.screen.width);
            var siteWidthPx = 1100; // min width of site
            var ratio = Math.min(screenWidthPx / siteWidthPx, 1.0);
            var viewport = "width=device-width, initial-scale=" + ratio;
            $('#viewport').attr('content', viewport);
            var style = $('<style>html * { max-height: 1000000px; }</style>');
            $('html > head').append(style);
        }

        if ( /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent) ) {
            adjustViewport();
        }
    </script>
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="expires" content="-1">
    <meta http-equiv="profileName" content="c3">
    <meta name="google-site-verification" content="OTd2dN5x4nS4OPknPI9JFg36fKxjqY0i1PSfFPv_J90"/>
    <meta property="fb:admins" content="100001352546622" />
    <meta property="og:image" content="http://st.codeforces.com/s/93431/images/codeforces-telegram-square.png" />
    <link rel="image_src" href="http://st.codeforces.com/s/93431/images/codeforces-telegram-square.png" />
    <meta property="og:title" content="Basic Binary Indexed Tree (English version) - Codeforces"/>
    <meta property="og:description" content=""/>
    
    <meta property="og:site_name" content="Codeforces"/>
    <meta name="uc" content="fed1a88de7a0bb0a677571fe2b0a3df6a3ea0322"/>
    
    
    
    
    <meta name="utc_offset" content="+03:00"/>
    <meta name="verify-reformal" content="f56f99fd7e087fb6ccb48ef2" />
    <title>Basic Binary Indexed Tree (English version) - Codeforces</title>
        <meta name="description" content="Codeforces. Programming competitions and contests, programming community" />
        <meta name="keywords" content="programming algorithm contest competition informatics olympiads c++ java graphs vkcup" />
    <meta name="robots" content="index, follow" />

    <link rel="stylesheet" href="http://st.codeforces.com/s/93431/css/font-awesome.min.css" type="text/css" charset="utf-8" />

        <link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Cuprum&subset=latin,cyrillic' rel='stylesheet' type='text/css'>


    <link rel="shortcut icon" type="image/png" href="http://st.codeforces.com/s/93431/favicon.png">

    <!--CombineResourcesFilter-->
    <link rel="stylesheet" href="http://st.codeforces.com/s/93431/css/prettify.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/93431/css/clear.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/93431/css/style.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/93431/css/ttypography.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/93431/css/problem-statement.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/93431/css/second-level-menu.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/93431/css/roundbox.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/93431/css/datatable.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/93431/css/table-form.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/93431/css/topic.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/93431/css/jquery.jgrowl.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/93431/css/facebox.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/93431/css/jquery.wysiwyg.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/93431/css/jquery.autocomplete.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/93431/css/codeforces.datepick.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/93431/css/colorbox.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/93431/css/jquery.drafts.css" type="text/css" charset="utf-8" />
        <link rel="stylesheet" href="http://st.codeforces.com/s/93431/css/community.css" type="text/css" charset="utf-8" />

    <script type="text/javascript" src="http://st.codeforces.com/s/93431/js/prettify/prettify.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/93431/js/moment.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/93431/js/pushstream.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/93431/js/jquery.easing.min.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/93431/js/jquery.lavalamp.min.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/93431/js/jquery.jgrowl.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/93431/js/jquery.swipe.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/93431/js/facebox.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/93431/js/jquery.wysiwyg.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/93431/js/controls/wysiwyg.colorpicker.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/93431/js/controls/wysiwyg.table.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/93431/js/controls/wysiwyg.image.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/93431/js/controls/wysiwyg.link.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/93431/js/jquery.autocomplete.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/93431/js/jquery.datepick.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/93431/js/jquery.ie6blocker.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/93431/js/jquery.colorbox-min.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/93431/js/jquery.ba-bbq.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/93431/js/jquery.drafts.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/93431/js/sjcl.js"></script>
    <script type="text/javascript" src="/scripts/d3452da8b9eea6de7856d3453830a6ef/en/codeforces-options.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/93431/js/codeforces.js?v=20160131"></script>
    <!--/CombineResourcesFilter-->

    <link rel="stylesheet" href="http://st.codeforces.com/s/93431/markitup/skins/markitup/style.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/93431/markitup/sets/markdown/style.css" type="text/css" charset="utf-8" />

    <script type="text/javascript" src="//yandex.st/share/share.js" charset="utf-8"></script>

    <script type="text/javascript" src="http://st.codeforces.com/s/93431/markitup/jquery.markitup.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/93431/markitup/sets/markdown/set.js"></script>

    <!--[if IE]>
    <style>
        #sidebar {
            padding-left: 1em;
            margin: 1em 1em 1em 0;
        }
    </style>
    <![endif]-->


</head>
<body><span style='display:none;' class='csrf-token' data-csrf='6504163200fc54991cc63fe9bcd8949b'>&nbsp;</span>

<div class="button-up" style="display: none; opacity: 0.7; width: 50px; height:100%; position: fixed; left: 0; top: 0; cursor: pointer; text-align: center; line-height: 35px; color: #d3dbe4; font-weight: bold; font-size: 3.0rem;"><i class="icon-circle-arrow-up"></i></div>

<!-- Codeforces JavaScripts. -->
<script type="text/javascript">
    var queryMobile = Codeforces.queryString.mobile;
    if (queryMobile === "true" || queryMobile === "false") {
        Codeforces.putToStorage("useMobile", queryMobile == "true");
    } else {
        var useMobile = Codeforces.getFromStorage("useMobile");
        if (useMobile === true || useMobile === false) {
            if (useMobile != false) {
                Codeforces.redirect(Codeforces.updateUrlParameter(document.location.href, "mobile", useMobile));
            }
        }
    }
</script>
<script type="text/javascript">
    if (window.parent.frames.length > 0) {
        window.stop();
    }
</script>

    <script type="text/javascript">
        $(document).ready(function () {
    (function () {
        jQuery.expr[':'].containsCI = function(elem, index, match) {
            return !match || !match.length || match.length < 4 || !match[3] || (
                    elem.textContent || elem.innerText || jQuery(elem).text() || ''
            ).toLowerCase().indexOf(match[3].toLowerCase()) >= 0;
        }
    }(jQuery));

    $.ajaxPrefilter(function(options, originalOptions, xhr) {
        var csrf = Codeforces.getCsrfToken();

        if (csrf) {
            var data = originalOptions.data;
            if (originalOptions.data !== undefined) {
                if (Object.prototype.toString.call(originalOptions.data) === '[object String]') {
                    data = $.deparam(originalOptions.data);
                }
            } else {
                data = {};
            }
            options.data = $.param($.extend(data, { csrf_token: csrf }));
        }
    });

    window.getCodeforcesServerTime = function(callback) {
        $.post("/data/time", {}, callback, "json");
    }

    window.updateTypography = function () {
        $("div.ttypography code").addClass("tt");
        $("div.ttypography pre>code").addClass("prettyprint").removeClass("tt");
        $("div.ttypography table").addClass("bordertable");
        prettyPrint();
    }

    $.ajaxSetup({ scriptCharset: "utf-8" ,contentType: "application/x-www-form-urlencoded; charset=UTF-8", headers: {
        'X-Csrf-Token': Codeforces.getCsrfToken()
    }});

    window.updateTypography();

    Codeforces.signForms();

    setTimeout(function() {
        $(".second-level-menu-list").lavaLamp({
            fx: "backout",
            speed: 1000
        });
    }, 0);


    Codeforces.countdown();
    $("a[rel='photobox']").colorbox();

        var count = 0;

        function getDelay() {
            var delay = 0;
            var last = Codeforces.getFromStorage("LastOnlineTimeUpdaterMillis", 0);
            if (last && last != null) {
                var period = count < 20 ? 180 * 1000 : 360 * 1000;
                delay = period - (new Date().getTime() - last);
                if (delay < 0)
                    delay = 0;
            }
            return delay;
        }

        window.setInterval(function () {
            if (getDelay() <= 0 && count < 120) {
                ++count;
                Codeforces.ping("/data/update-online");
            }
        }, 5000);

        var handle = "free_bird";
        $("a.rated-user:contains(" + handle + "), span.participant:contains(" + handle + ")").each(function () {
            if ($(this).text() == handle) {
                var td = $(this).parent();
                var tr = $(this).parent().parent();
                if (td.is("td") && tr.is("tr")) {
                    tr.addClass("highlighted-row");
                }
            }
        });

    function showAnnouncements(json) {
        //info("j=" + JSON.stringify(json));

        if (json.t != "a") {
            return;
        }
        // console.log("Got announcement from channel");
        setTimeout(function() {
            Codeforces.showAnnouncements(json.d, "en");
        }, Math.random() * 500);
    }
    if (Codeforces.getParticipantChannel()) {
        Codeforces.subscribe(Codeforces.getParticipantChannel(), function(json) {
            showAnnouncements(json);
        });
    }

    if (Codeforces.getContestChannel()) {
        Codeforces.subscribe(Codeforces.getContestChannel(), function(json) {
            showAnnouncements(json);
        });
    }

    if (Codeforces.getGlobalChannel()) {
        Codeforces.subscribe(Codeforces.getGlobalChannel(), function(json) {
            showAnnouncements(json);
        });
    }

    if (Codeforces.getUserChannel()) {
        Codeforces.subscribe(Codeforces.getUserChannel(), function(json) {
            showAnnouncements(json);
        });
    }

    $(".clickable-title").click(function() {
        Codeforces.alert($(this).attr("title"));
    }).css("position", "relative").css("bottom", "3px");


    Codeforces.reformatTimes();
    Codeforces.initializePubSub();

    Codeforces.setupSpoilers();
    Codeforces.setupTutorials("/data/problemTutorial");
        });
    </script>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-743380-5']);
  _gaq.push(['_trackPageview']);

  (function () {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = (document.location.protocol == 'https:' ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


<div id="body">
        

<div class="side-bell" style="visibility: hidden; display: none; opacity: 0.7; width: 40px; position: fixed; right: 0; top: 0; cursor: pointer; text-align: center; line-height: 35px; color: #d3dbe4; font-weight: bold; font-size: 1.5rem;">
    <span class="icon-stack" style="width: 100%;">
        <i class="icon-circle icon-stack-base"></i>
        <i class="icon-bell-alt icon-light"></i>
    </span>
    <br/>
    <span class="side-bell__count" style="position: relative; top: -10px;"></span>
</div>


<div class="header-bell" style="display: none;">
    <div class="header-bell__img"><span class="header-bell__count"></span></div>

    <div class="bell-details">
        <div class="bell-details__proto-row-comment">
            <a class="bell-details__thumbnail-a" href="#"><img src=""/></a>
            <div class="bell-details__comment"></div>
            <div class="bell-details__time"></div>
        </div>
        <div class="bell-details__proto-row-blog-entry">
            <a class="bell-details__thumbnail-a" href="#"><img src=""/></a>
            <div class="bell-details__blog-entry"></div>
            <div class="bell-details__time"></div>
        </div>
        <div class="bell-details__proto-row-comment-reply">
            <a class="bell-details__thumbnail-a" href="#"><img src=""/></a>
            <div class="bell-details__comment-reply"></div>
            <div class="bell-details__time"></div>
        </div>

        <div class="bell-details__no-new">
            There are no new notifications
        </div>

        <div class="bell-details__recent-link">
            <a href="/notifications">History (at most 100 notifications)</a>
        </div>
    </div>
</div>

<style>
    .header-bell {
        display: inline-block;
        position: relative;
        cursor: pointer;
    }

    .header-bell__img {
        opacity: 0.5;
        background-image: url("http://st.codeforces.com/s/93431/images/icons/bell_inactive-20x20.png");
        position: relative;
        bottom: 1px;
        width: 20px;
        height: 20px;
    }

    .header-bell__img-active  {
        opacity: 1 !important;
        background-image: url("http://st.codeforces.com/s/93431/images/icons/bell_active-20x20.png") !important;
    }

    .header-bell__count {
        position: absolute;
        top: 8px;
        left: 18px;
        font-weight: bold;
        font-size: 10px;
    }

    .bell-details {
        display: none;
        z-index: 5;
        border: 1px solid rgb(185, 185, 185);
        width: 40rem;
        max-height: 60rem;
        padding: 0;
        position: absolute;
        top: 20px;
        right: 0;
        background-color: white;
        overflow: scroll;
        overflow-x: hidden;
        overflow-y: auto;
    }
    .bell-details.sidebar-bell {
        position: fixed;
        right: 50px;
    }

    .bell-details__no-new {
        font-size: 1.3rem;
        display: block;
        text-align: center;
        color: #888 !important;
        padding: 1em;
    }

    .bell-details__recent-link {
        margin: 0;
        padding: 0.5em;
        text-align: center;
        border-top: 1px solid rgb(185, 185, 185);
    }

    .bell-details__recent-link a {
        font-size: 1.2rem;
    }

    .bell-details__proto-row-comment {
        display: none;
    }

    .bell-details__proto-row-blog-entry {
        display: none;
    }

    .bell-details__proto-row-comment-reply {
        display: none;
    }

    .bell-details__row {
        text-align: left;
        margin: 0.5em;
        padding: 0.25em 0.25em 0.75em 0.25em;
        clear: both;
    }

    .bell-details__row:hover {
        cursor: pointer;
        background-color: #def;
    }

    .bell-details__row-active {
        background-color: #def;
    }

    .bell-details__thumbnail-a {
        text-decoration: none;
    }

    .bell-details__row img {
        zoom: 50%;
        margin-right: 2em;
        float: left;
    }

    .bell-details__comment {
        padding-left: 45px;
        font-size: 1.3rem;
    }

    .bell-details__blog-entry {
        padding-left: 45px;
        font-size: 1.3rem;
    }

    .bell-details__comment-reply {
        padding-left: 45px;
        font-size: 1.3rem;
    }

    .bell-details__time {
        padding-left: 45px;
        margin-top: 0.2em;
        font-size: 1.1rem;
        color: #888 !important;
    }
</style>

<script>
    $(function () {
        if ($(window).width() < 1600) {
            $('.side-bell').css('width', '30px').css('line-height', '30px').css('font-size', '10px');
        }

        if ($(window).width() >= 1200) {
            $ (window).scroll (function () {
                if ($ (this).scrollTop () > 100) {
                    $(".bell-details").addClass("sidebar-bell");
                    $ ('.side-bell').fadeIn();
                } else {
                    $(".bell-details").removeClass("sidebar-bell");
                    $ ('.side-bell').fadeOut();
                }
            });

            $('.side-bell').hover(function () {
                $(this).animate({
                    'opacity':'1'
                }).css({'color':'#6a86a4'});
            }, function () {
                $(this).animate({
                    'opacity':'0.7'
                }).css({'color':'#d3dbe4'});
            });
        }

        $(".lang-chooser>div:first-child").prepend($("<span style='position: relative; bottom: 8px; padding: 0 0.5em;'>|</span>")).prepend($(".header-bell").show());
        function Bell() {
            var bell = this;
            var notifications = JSON.parse("[]");

            bell.notifications = {};

            for (var i in notifications) {
                if (notifications.hasOwnProperty(i)) {
                    bell.notifications[notifications[i].id] = notifications[i];
                }
            }

            function onClick(notification) {
                var notificationIds = [];
                var reason = notification.data.reasonType + "#" + notification.reasonId;
                for (id in bell.notifications) {
                    if (bell.notifications.hasOwnProperty(id)) {
                        var otherNotification = bell.notifications[id];
                        var otherReason = otherNotification.data.reasonType + "#" + otherNotification.reasonId;
                        if (otherReason == reason) {
                            notificationIds.push(otherNotification.id);
                        }
                    }
                }
                $.post("/data/notification", {action: "markAsRead", notificationIds: notificationIds.join(",")}, function(result) {
                    Codeforces.redirect(notification.data.url);
                }, "json");
            }

            var $bellDetails = $(".bell-details");
            bell.newCommentRow = function (notification) {
                var row = $(".bell-details__proto-row-comment").clone();
                row.addClass("bell-details__row").attr("data-notificationId", notification.id);
                row.find(".bell-details__thumbnail-a").attr("href", notification.data.reasonUserUrl);
                row.find("img").attr("src", notification.data.reasonUserThumbnailUrl);
                row.find(".bell-details__comment").html(
                        "ReasonUser mentioned you in a comment".replace("ReasonUser", notification.data.reasonUserHtml)
                );
                row.find(".bell-details__time").html(
                        "<span class='format-systemtimewithseconds'>"
                        + notification.creationTimeString
                        + "</span>"
                );
                row.removeClass("bell-details__proto-row-comment");
                row.click(function() {
                    onClick(notification);
                    return false;
                });
                return row;
            };
            bell.newFriendCommentRow = function (notification) {
                var row = $(".bell-details__proto-row-comment").clone();
                row.addClass("bell-details__row").attr("data-notificationId", notification.id);
                row.find(".bell-details__thumbnail-a").attr("href", notification.data.reasonUserUrl);
                row.find("img").attr("src", notification.data.reasonUserThumbnailUrl);
                row.find(".bell-details__comment").html(
                        "ReasonUser wrote a comment".replace("ReasonUser", notification.data.reasonUserHtml)
                );
                row.find(".bell-details__time").html(
                        "<span class='format-systemtimewithseconds'>"
                        + notification.creationTimeString
                        + "</span>"
                );
                row.removeClass("bell-details__proto-row-comment");
                row.click(function() {
                    onClick(notification);
                    return false;
                });
                return row;
            };
            bell.newCommentReplyRow = function (notification) {
                var row = $(".bell-details__proto-row-comment-reply").clone();
                row.addClass("bell-details__row").attr("data-notificationId", notification.id);
                row.find(".bell-details__thumbnail-a").attr("href", notification.data.reasonUserUrl);
                row.find("img").attr("src", notification.data.reasonUserThumbnailUrl);
                row.find(".bell-details__comment-reply").html(
                        "ReasonUser replied to your comment".replace("ReasonUser", notification.data.reasonUserHtml)
                );
                row.find(".bell-details__time").html(
                        "<span class='format-systemtimewithseconds'>"
                        + notification.creationTimeString
                        + "</span>"
                );
                row.removeClass("bell-details__proto-row-comment-reply");
                row.click(function() {
                    onClick(notification);
                    return false;
                });
                return row;
            };
            bell.newBlogEntryRow = function (notification) {
                var row = $(".bell-details__proto-row-blog-entry").clone();
                row.addClass("bell-details__row").attr("data-notificationId", notification.id);
                row.find(".bell-details__thumbnail-a").attr("href", notification.data.reasonUserUrl);
                row.find("img").attr("src", notification.data.reasonUserThumbnailUrl);
                row.find(".bell-details__blog-entry").html(
                        "ReasonUser mentioned you in a blog entry".replace("ReasonUser", notification.data.reasonUserHtml)
                );
                row.find(".bell-details__time").html(
                        "<span class='format-systemtimewithseconds'>"
                        + notification.creationTimeString
                        + "</span>"
                );
                row.removeClass("bell-details__proto-row-blog-entry");
                row.click(function() {
                    onClick(notification);
                    return false;
                });
                return row;
            };
            bell.newFriendBlogEntryRow = function (notification) {
                var row = $(".bell-details__proto-row-blog-entry").clone();
                row.addClass("bell-details__row").attr("data-notificationId", notification.id);
                row.find(".bell-details__thumbnail-a").attr("href", notification.data.reasonUserUrl);
                row.find("img").attr("src", notification.data.reasonUserThumbnailUrl);
                row.find(".bell-details__blog-entry").html(
                        "ReasonUser wrote a blog entry".replace("ReasonUser", notification.data.reasonUserHtml)
                );
                row.find(".bell-details__time").html(
                        "<span class='format-systemtimewithseconds'>"
                        + notification.creationTimeString
                        + "</span>"
                );
                row.removeClass("bell-details__proto-row-blog-entry");
                row.click(function() {
                    onClick(notification);
                    return false;
                });
                return row;
            };

            bell.renderRow = function (notification) {
                var $row = $(".bell-details__row[data-notificationId='" + notification.id + "']");

                if ($bellDetails.css("display") != "block" && notification.read) {
                    $row.hide();
                    return;
                }

                notification.data = JSON.parse(notification.dataJson);

                var reason = notification.data.reasonType + "#" + notification.reasonId;

                var has = false;
                $row.each(function () {
                    has = true;
                });
                if ($(".bell-details__row[data-reason='" + reason + "']").length) {
                    has = true;
                }

                if (!has) {
                    $(".side-bell").css("visibility", "visible");
                    var newRow;
                    if (notification.type == "Comment") {
                        newRow = bell.newCommentRow(notification);
                    } else if (notification.type == "BlogEntry") {
                        newRow = bell.newBlogEntryRow(notification);
                    } else if (notification.type == "CommentReply") {
                        newRow = bell.newCommentReplyRow(notification);
                    } else if (notification.type == "FriendComment") {
                        newRow = bell.newFriendCommentRow(notification);
                    } else if (notification.type == "FriendBlogEntry") {
                        newRow = bell.newFriendBlogEntryRow(notification);
                    }
                    if (newRow) {
                        newRow.attr("data-reason", reason);
                        $(".bell-details").prepend(newRow);
                    }
                }
            };

            var $count = $(".header-bell__count, .side-bell__count");
            var $img = $(".header-bell__img");
            var $noNew = $(".bell-details__no-new");

            bell.renewCount = function () {
                Codeforces.reformatTimes();
                var count = 0;
                var counted = {};
                for (var id in bell.notifications)
                    if (bell.notifications.hasOwnProperty(id)) {
                        var notification = bell.notifications[id];
                        if (notification) {
                            var reason = notification.data.reasonType + "#" + notification.reasonId;
                            if (!notification.read && !counted[reason]) {
                                count++;
                                counted[reason] = true;
                            }
                        }
                    }
                if (count > 0) {
                    $count.text(count);
                    $img.addClass("header-bell__img-active");
                    $noNew.hide();
                } else {
                    $count.text("");
                    $img.removeClass("header-bell__img-active");
                    if ($bellDetails.css("display") != "block") {
                        $noNew.show();
                    }
                }
            };

            for (var id in bell.notifications)
                if (bell.notifications.hasOwnProperty(id))
                    bell.renderRow(bell.notifications[id]);

            Codeforces.subscribe(Codeforces.getUserChannel(), function(json) {
                if (json.t == "n") {
                    for (var i in json.d)
                        if (json.d.hasOwnProperty(i)) {
                            var notification = json.d[i];
                            notification.data = JSON.parse(notification.dataJson);
                            bell.notifications[notification.id] = notification;
                            bell.renderRow(notification);
                            bell.renewCount();
                        }
                }
            });


            $(".header-bell, .side-bell").click(function() {
                if ($bellDetails.css("display") == "none") {
                    for (var id in bell.notifications)
                        if (bell.notifications.hasOwnProperty(id))
                            if (bell.notifications[id].read)
                                bell.renderRow(bell.notifications[id]);
                    bell.renewCount();

                    $bellDetails.css("display", "block");

                    var notificationIds = [];
                    for (id in bell.notifications)
                        if (bell.notifications.hasOwnProperty(id))
                            notificationIds.push(id);

                    setTimeout(function() {
                        if ($bellDetails.css("display") == "block") {
                            $.post("/data/notification", {action: "markAsRead", notificationIds: notificationIds.join(",")}, function(result) {
                                // No operations.
                            }, "json");

                            for (var i in notificationIds) {
                                if (notificationIds.hasOwnProperty(i)) {
                                    bell.notifications[notificationIds[i]].read = true;
                                }
                            }
                            bell.renewCount();
                        }
                    }, 2000);
                } else {
                    var has = false;
                    for (var id in bell.notifications) {
                        if (bell.notifications.hasOwnProperty(id) && !bell.notifications[id].read) {
                            has = true;
                        }
                    }
                    if (!has) {
                        $(".side-bell").css("visibility", "hidden");
                    }
                    $bellDetails.css("display", "none");
                    bell.renewCount();
                }
            });
        }

        bell = new Bell();
        bell.renewCount();
    })
</script>

<div id="header" style="position: relative;">
    <div style="float:left;">
            
            <a href="/"><img src="http://st.codeforces.com/s/93431/images/codeforces-logo-with-telegram.png"/></a>
    </div>
    <div class="lang-chooser">
        <div style="text-align: right;">
            <a href="?locale=en"><img src="http://st.codeforces.com/s/93431/images/flags/24/gb.png" title="In English" alt="In English"/></a>
            <a href="?locale=ru"><img src="http://st.codeforces.com/s/93431/images/flags/24/ru.png" title="По-русски" alt="По-русски"/></a>
        </div>

        <div>
                    <a href="/profile/free_bird">free_bird</a>
                     | 
                    <a href="/3961cba8474035f6124264fb99df6cb4/logout">Logout</a>
                    
        </div>



    </div>
    <br style="clear: both;"/>
</div>
        

    <div class="roundbox menu-box" style="">
            <div class="roundbox-lt">&nbsp;</div>
            <div class="roundbox-rt">&nbsp;</div>
            <div class="roundbox-lb">&nbsp;</div>
            <div class="roundbox-rb">&nbsp;</div>
    <div class="menu-list-container">
    <ul class="menu-list main-menu-list">
                <li class=""><a href="/">Home</a></li>
                <li class=""><a href="/contests">Contests</a></li>
                <li class=""><a href="/gyms">Gym</a></li>
                <li class=""><a href="/problemset">Problemset</a></li>
                <li class=""><a href="/groups">Groups</a></li>
                <li class=""><a href="/ratings">Rating</a></li>
                <li class=""><a href="/api/help">API</a></li>
                <li class=""><a href="/vkcup2017">VK Cup <img class="icon" src="http://st.codeforces.com/images/icons/cup.png"/></a></li>
                <li class=""><a href="/sections">Sections</a></li>
    </ul>
        <form method="post" action="/search"><input type='hidden' name='csrf_token' value='6504163200fc54991cc63fe9bcd8949b'/>
            <input class="search" name="query" data-isPlaceholder="true" value=""/>
        </form>
    <br style="clear: both;"/>
</div>

    </div>

    <script type="text/javascript">
        $(document).ready(function () {
            $("input.search").focus(function () {
                if ($(this).attr("data-isPlaceholder") === "true") {
                    $(this).val("");
                    $(this).removeAttr("data-isPlaceholder");
                }
            });
        });
    </script>
            <br style="height: 3em; clear: both;"/>

        <div style="position: relative;">
                        <div id="sidebar">
    <div class="roundbox sidebox" style="">
            <div class="roundbox-lt">&nbsp;</div>
            <div class="roundbox-rt">&nbsp;</div>
        <div class="caption titled">&rarr; Pay attention
            <div class="top-links">
            </div>
        </div>
<div style="padding: 0.5em;">
        <div style="text-align:center;border-bottom: 1px solid rgb(185, 185, 185);margin:0 -0.5em 0.5em -0.5em;padding: 0 1em 0.5em 1em;">
            <span class='contest-state-phase'>Before contest</span><br/><a href="/contests/771">VK Cup 2017 - Round 1</a><br/><span class='countdown' home='http://st.codeforces.com/s/93431' noRedirection='true' textBeforeRedirect=''><span title="383:41:44">2 weeks</span></span>
        </div>
        <div style="text-align:center;">
            <div class="socials" style="text-align: left;">
                <div style="margin-top: 0.85em;position: relative;">

        <div id="fb-root"></div>
        <script>
        (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "http://connect.facebook.net/en_EN/all.js#appId=554666954583323&xfbml=1";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
        </script>
        <div class="fb-like" data-href="http://codeforces.com/contests/771" data-send="false" data-width="256" data-show-faces="false" data-font="arial" data-ref='54609'></div>

        </div>
</div>

        </div>
</div>
    </div>

    <style>
        .personal-sidebar {
            margin: 1em;
        }

        .personal-sidebar .for-avatar {
            float: right;
        }

        .personal-sidebar li {
            font-size: 0.8em;
        }

        .personal-sidebar .nav-links {
            margin-top: 0.5em;
        }

        .personal-sidebar .nav-links li {
            list-style: disc;
            list-style-position: inside;
        }
    </style>

    <div class="roundbox sidebox" style="">
            <div class="roundbox-lt">&nbsp;</div>
            <div class="roundbox-rt">&nbsp;</div>
        <div class="caption titled">&rarr; free_bird
            <div class="top-links">
            </div>
        </div>
    <div class="personal-sidebar">
<div class="for-avatar"><div class="avatar"><a href="/profile/free_bird"><img src='http://userpic.codeforces.com/no-avatar.jpg'/></a><div><a href="/profile/free_bird" title="Pupil free_bird" class="rated-user user-green">free_bird</a></div></div></div><div><ul><li><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/93431/images/icons/rating-16x16.png"
            alt="User''s contest rating in Codeforces community" title="User''s contest rating in Codeforces community"
        />&nbsp;

        Rating:&nbsp;<span style="font-weight:bold;" class="user-green">1379</span></li><li><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/93431/images/icons/star_blue_16.png"
            alt="User''s contribution into Codeforces community" title="User''s contribution into Codeforces community"
        />&nbsp;

        Contribution:&nbsp;<span style="color:gray;font-weight:bold;">0</span></li></ul><ul class="nav-links"><li><a href="/settings/general">Settings</a></li><li><a href="/blog/free_bird">Blog</a></li><li><a href="/teams">Teams</a></li><li><a href="/submissions/free_bird">Submissions</a></li><li><a href="/usertalk">Talks</a></li><li><a href="/contests/with/free_bird">Contests</a></li></ul></div><br style="clear:both;"/>    </div>
    </div>

<div class="roundbox sidebox top-contributed" style="">
<div class="roundbox-lt">&nbsp;</div>
<div class="roundbox-rt">&nbsp;</div>
<div class="caption titled">&rarr; Top rated
<div class="top-links">
</div>
</div>
<table class="rtable ">
<tbody>
<tr>
<th class="left" style="width:2.25em;">#</th>
<th class="">User</th>
<th class="" style="width:5em;">Rating</th>
</tr>
<tr>
<td class="left dark">1</td>
<td class=" dark"><a href="/profile/tourist" title="Legendary grandmaster tourist" class="rated-user user-legendary"><span class="legendary-user-first-letter">t</span>ourist</a></td>
<td class=" dark">3534</td>
</tr>
<tr>
<td class="left ">2</td>
<td class=""><a href="/profile/Petr" title="Legendary grandmaster Petr" class="rated-user user-legendary"><span class="legendary-user-first-letter">P</span>etr</a></td>
<td class="">3400</td>
</tr>
<tr>
<td class="left dark">3</td>
<td class=" dark"><a href="/profile/moejy0viiiiiv" title="Legendary grandmaster moejy0viiiiiv" class="rated-user user-legendary"><span class="legendary-user-first-letter">m</span>oejy0viiiiiv</a></td>
<td class=" dark">3202</td>
</tr>
<tr>
<td class="left ">4</td>
<td class=""><a href="/profile/W4yneb0t" title="Legendary grandmaster W4yneb0t" class="rated-user user-legendary"><span class="legendary-user-first-letter">W</span>4yneb0t</a></td>
<td class="">3183</td>
</tr>
<tr>
<td class="left dark">5</td>
<td class=" dark"><a href="/profile/ainta" title="Legendary grandmaster ainta" class="rated-user user-legendary"><span class="legendary-user-first-letter">a</span>inta</a></td>
<td class=" dark">3174</td>
</tr>
<tr>
<td class="left ">6</td>
<td class=""><a href="/profile/bmerry" title="Legendary grandmaster bmerry" class="rated-user user-legendary"><span class="legendary-user-first-letter">b</span>merry</a></td>
<td class="">3089</td>
</tr>
<tr>
<td class="left dark">7</td>
<td class=" dark"><a href="/profile/mnbvmar" title="Legendary grandmaster mnbvmar" class="rated-user user-legendary"><span class="legendary-user-first-letter">m</span>nbvmar</a></td>
<td class=" dark">3059</td>
</tr>
<tr>
<td class="left ">8</td>
<td class=""><a href="/profile/Merkurev" title="Legendary grandmaster Merkurev" class="rated-user user-legendary"><span class="legendary-user-first-letter">M</span>erkurev</a></td>
<td class="">3055</td>
</tr>
<tr>
<td class="left dark">9</td>
<td class=" dark"><a href="/profile/V--o_o--V" title="Legendary grandmaster V--o_o--V" class="rated-user user-legendary"><span class="legendary-user-first-letter">V</span>--o_o--V</a></td>
<td class=" dark">3031</td>
</tr>
<tr>
<td class="left bottom">10</td>
<td class="bottom"><a href="/profile/izrak" title="Legendary grandmaster izrak" class="rated-user user-legendary"><span class="legendary-user-first-letter">i</span>zrak</a></td>
<td class="bottom">2996</td>
</tr>
</tbody>
</table>
<div class="bottom-links">
<table style="width:100%;">
<tbody>
<tr>
<td style="text-align:left;">
<a href="/ratings/countries">Countries</a> |
<a href="/ratings/cities">Cities</a> |
<a href="/ratings/organizations">Organizations</a>
</td>
<td style="text-align:right;">
<a href="/ratings">View all &rarr;</a>
</td>
</tr>
</tbody>
</table>
</div>
</div>

    <div class="roundbox sidebox top-contributed" style="">
            <div class="roundbox-lt">&nbsp;</div>
            <div class="roundbox-rt">&nbsp;</div>
        <div class="caption titled">&rarr; Top contributors
            <div class="top-links">
            </div>
        </div>
        <table class="rtable ">
            <tbody>
                <tr>
                            <th class="left" style="width:2.25em;">#</th>
                            <th class="">User</th>
                            <th class="" style="width:5em;">Contrib.</th>
                </tr>
                    <tr>
                                <td class="left  dark">1</td>
                                <td class=" dark"><a href="/profile/rng_58" title="International Grandmaster rng_58" class="rated-user user-red">rng_58</a></td>
                                <td class=" dark">170</td>
                    </tr>
                    <tr>
                                <td class="left ">2</td>
                                <td class=""><a href="/profile/Errichto" title="International Grandmaster Errichto" class="rated-user user-red">Errichto</a></td>
                                <td class="">169</td>
                    </tr>
                    <tr>
                                <td class="left  dark">3</td>
                                <td class=" dark"><a href="/profile/Petr" title="Legendary grandmaster Petr" class="rated-user user-legendary"><span class="legendary-user-first-letter">P</span>etr</a></td>
                                <td class=" dark">163</td>
                    </tr>
                    <tr>
                                <td class="left ">4</td>
                                <td class=""><a href="/profile/Swistakk" title="International master Swistakk" class="rated-user user-orange">Swistakk</a></td>
                                <td class="">152</td>
                    </tr>
                    <tr>
                                <td class="left  dark">5</td>
                                <td class=" dark"><a href="/profile/Zlobober" title="International Grandmaster Zlobober" class="rated-user user-red">Zlobober</a></td>
                                <td class=" dark">150</td>
                    </tr>
                    <tr>
                                <td class="left ">6</td>
                                <td class=""><a href="/profile/csacademy" title="Unrated, csacademy" class="rated-user user-black">csacademy</a></td>
                                <td class="">148</td>
                    </tr>
                    <tr>
                                <td class="left  dark">6</td>
                                <td class=" dark"><a href="/profile/GlebsHP" title="International Grandmaster GlebsHP" class="rated-user user-red">GlebsHP</a></td>
                                <td class=" dark">148</td>
                    </tr>
                    <tr>
                                <td class="left ">8</td>
                                <td class=""><a href="/profile/zscoder" title="International master zscoder" class="rated-user user-orange">zscoder</a></td>
                                <td class="">147</td>
                    </tr>
                    <tr>
                                <td class="left  dark">9</td>
                                <td class=" dark"><a href="/profile/Um_nik" title="Legendary grandmaster Um_nik" class="rated-user user-legendary"><span class="legendary-user-first-letter">U</span>m_nik</a></td>
                                <td class=" dark">146</td>
                    </tr>
                    <tr>
                                <td class="left bottom">10</td>
                                <td class="bottom"><a href="/profile/Xellos" title="International Grandmaster Xellos" class="rated-user user-red">Xellos</a></td>
                                <td class="bottom">136</td>
                    </tr>
            </tbody>
        </table>
            <div class="bottom-links">
                <table style="width:100%;">
                    <tbody>
                        <tr>
                            <td style="text-align:left;">
                            </td>
                            <td style="text-align:right;">
                                    <a href="/top-contributed">View all &rarr;</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
    </div>

    <script type="text/javascript">
        $(document).ready(function () {
        });
    </script>



    <div class="roundbox sidebox" style="">
            <div class="roundbox-lt">&nbsp;</div>
            <div class="roundbox-rt">&nbsp;</div>
        <div class="caption titled">&rarr; Find user
            <div class="top-links">
            </div>
        </div>
        <form class="handleForm" method="post"><input type='hidden' name='csrf_token' value='6504163200fc54991cc63fe9bcd8949b'/>
            <div style="padding:1em;text-align:right;">
                <label style="padding-right:1em;">Handle:
                    <input style="width:12em;" type="text" class="handleBox"/>
                </label>
            </div>
            <div style="padding: 0 1em 1em 1em;text-align:right;">
                <input style="height:1.65em;padding:0 0.75em;" type="submit" value="Find"/>
            </div>
        </form>
    </div>
    <script type="text/javascript">
        $(document).ready(function () {
    $(".handleBox").autocomplete("/data/handles", {
        delay: 200,
        width: 200,
        selectFirst: false,
        matchContains: true,
        minChars: 3
    });
    $(".handleForm").attr("autocomplete", "off").submit(function () {
        var link = "/profile/userHandle".replace(
            "userHandle", $(this).find(".handleBox").val()
        );
        window.location = link;
        return false;
    });
        });
    </script>




    <div class="roundbox sidebox" style="">
            <div class="roundbox-lt">&nbsp;</div>
            <div class="roundbox-rt">&nbsp;</div>
        <div class="caption titled">&rarr; Recent actions
            <div class="top-links">
            </div>
        </div>
        <div class="recent-actions">
            <ul>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/AmrMahmoud" title="International master AmrMahmoud" class="rated-user user-orange">AmrMahmoud</a>        &rarr;
        <a href="/blog/entry/50760">We want gender equality</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/93431/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/maximaxi" title="Specialist maximaxi" class="rated-user user-cyan">maximaxi</a>        &rarr;
        <a href="/blog/entry/43580">Where can we find HackerEarth ratings?</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/93431/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/bkrtoni" title="Expert bkrtoni" class="rated-user user-blue">bkrtoni</a>        &rarr;
        <a href="/blog/entry/50764">A Problem</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/93431/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/tunyash" title="International master tunyash" class="rated-user user-orange">tunyash</a>        &rarr;
        <a href="/blog/entry/46963">HourRank 12 — HackerRank</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/93431/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/emotionles" title="Expert emotionles" class="rated-user user-blue">emotionles</a>        &rarr;
        <a href="/blog/entry/18523">Siblings dp in trees</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/93431/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/inception_h" title="Pupil inception_h" class="rated-user user-green">inception_h</a>        &rarr;
        <a href="/blog/entry/50763">How to solve uva live 7172</a>
&nbsp;&nbsp;<img alt="Text created or updated" title="Text created or updated" src="http://st.codeforces.com/s/93431/images/icons/x-update-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/gridnevvvit" title="Candidate Master gridnevvvit" class="rated-user user-violet">gridnevvvit</a>        &rarr;
        <a href="/blog/entry/17773">Editorial Codeforces Round #302</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/93431/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/CheaterKiller" title="Unrated, CheaterKiller" class="rated-user user-black">CheaterKiller</a>        &rarr;
        <a href="/blog/entry/50735">Sorry</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/93431/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/pllk" title="International master pllk" class="rated-user user-orange">pllk</a>        &rarr;
        <a href="/blog/entry/44769">BOI 2016: online contest</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/93431/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/pllk" title="International master pllk" class="rated-user user-orange">pllk</a>        &rarr;
        <a href="/blog/entry/49840">Datatähti Open 2017 — Finnish Olympiad in Informatics</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/93431/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/TooNewbie" title="Pupil TooNewbie" class="rated-user user-green">TooNewbie</a>        &rarr;
        <a href="/blog/entry/50733">Bug?</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/93431/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/pllk" title="International master pllk" class="rated-user user-orange">pllk</a>        &rarr;
        <a href="/blog/entry/50728">Competitive Programmer&#39;s Handbook — a new book on competitive programming</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/93431/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/drinkless" title="International Grandmaster drinkless" class="rated-user user-red">drinkless</a>        &rarr;
        <a href="/blog/entry/50755">TCO17 Algorithm and Marathon Competition dates are announced</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/93431/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/svanidz1" title="Candidate Master svanidz1" class="rated-user user-violet">svanidz1</a>        &rarr;
        <a href="/blog/entry/50741">HourRank 18</a>
&nbsp;&nbsp;<img alt="Text created or updated" title="Text created or updated" src="http://st.codeforces.com/s/93431/images/icons/x-update-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/vaibhavjaimini" title="Expert vaibhavjaimini" class="rated-user user-blue">vaibhavjaimini</a>        &rarr;
        <a href="/blog/entry/50715">Invitation to HackerEarth March Easy&#39;17</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/93431/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/vatsalsharma376" title="Specialist vatsalsharma376" class="rated-user user-cyan">vatsalsharma376</a>        &rarr;
        <a href="/blog/entry/50757">Help on 131D</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/93431/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/Los_Angelos_Laycurse" title="Unrated, Los_Angelos_Laycurse" class="rated-user user-black">Los_Angelos_Laycurse</a>        &rarr;
        <a href="/blog/entry/50758">2012 Petr Mitrichev Contest 10</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/93431/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/niyaznigmatul" title="International Grandmaster niyaznigmatul" class="rated-user user-red">niyaznigmatul</a>        &rarr;
        <a href="/blog/entry/50658">Codeforces Round #402</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/93431/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/GlebsHP" title="International Grandmaster GlebsHP" class="rated-user user-red">GlebsHP</a>        &rarr;
        <a href="/blog/entry/50613">Codeforces Round #401 (div. 2)</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/93431/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/MikeMirzayanov" title="Headquarters, MikeMirzayanov" class="rated-user user-admin">MikeMirzayanov</a>        &rarr;
        <a href="/blog/entry/49569">For contest writers: proposal tracking system</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/93431/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/satyaki3794" title="Candidate Master satyaki3794" class="rated-user user-violet">satyaki3794</a>        &rarr;
        <a href="/blog/entry/49465">Invitation to January Easy &#39;17 on HackerEarth</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/93431/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/niyaznigmatul" title="International Grandmaster niyaznigmatul" class="rated-user user-red">niyaznigmatul</a>        &rarr;
        <a href="/blog/entry/50724">Codeforces Round #402, Editorial</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/93431/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/aslf010990" title="Newbie aslf010990" class="rated-user user-gray">aslf010990</a>        &rarr;
        <a href="/blog/entry/11437">programming competitive books</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/93431/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/Boxer" title="Candidate Master Boxer" class="rated-user user-violet">Boxer</a>        &rarr;
        <a href="/blog/entry/14167">SPOJ POLQUERY</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/93431/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/mfv" title="Candidate Master mfv" class="rated-user user-violet">mfv</a>        &rarr;
        <a href="/blog/entry/50523">Week of Code 29 on HackerRank</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/93431/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
            </ul>
        </div>
            <div class="bottom-links">
                <table style="width:100%;">
                    <tbody>
                        <tr>
                            <td style="text-align:left;">
                            </td>
                            <td style="text-align:right;">
                                    <a href="/recent-actions">Detailed &rarr;</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
    </div>
</div>
                        <div id="pageContent" class="content-with-sidebar">
                    <div class="second-level-menu">
<ul class="second-level-menu-list">
        <li><a
                                        href="/profile/gvikei">gvikei</a></li>
        <li class="current selectedLava"><a
                                        href="/blog/gvikei">Blog</a></li>
        <li><a
                                        href="/teams/with/gvikei">Teams</a></li>
        <li><a
                                        href="/submissions/gvikei">Submissions</a></li>
        <li><a
                                        href="/contests/with/gvikei">Contests</a></li>
</ul>
</div>
    <div style="margin-top:0;">
    <div>
        <h3><a href="/blog/gvikei" style="text-decoration:none;color:black !important;">gvikei's blog</a></h3>
    </div>
        <div style="margin-top:2em;">


<div class="topic" topicId="619">
    <div class="title">
            <a href="/blog/entry/619">            Basic Binary Indexed Tree (English version)
</a>
    </div>

    <div class="info" style="position:relative;">
            By&nbsp;<a href="/profile/gvikei" title="Unrated, gvikei" class="rated-user user-black">gvikei</a>,
            <span class="format-humantime" title="Aug/21/2010 14:18">7 years ago</span>,
            
            <img style="position: relative;top: 5px;" src="http://st.codeforces.com/s/93431/images/flags/24/gb.png" alt="In English" title="In English"/>,

<a class="attach-blogEntry-619-to-contest-link" href="#"><img src="http://st.codeforces.com/s/93431/images/icons/paperclip-16x16.png" title="Attach this blog to some contest as a resource"/></a>

<style type="text/css">
    .attach-blogEntry-619-to-contest-form tr:not(:last-of-type) td {
        padding-bottom: 1em;
    }

    .blogEntry-619-error {
        font-size: 1.1rem;
    }
</style>

<div class="attach-blogEntry-619-to-contest-form-holder" style="display: none;padding: 1em;margin: 1em;">
    <form class="attach-blogEntry-619-to-contest-form" method="post"><input type='hidden' name='csrf_token' value='6504163200fc54991cc63fe9bcd8949b'/>
        <table style="width: 100%;">
            <thead>
            </thead>
            <tbody>
        <tr class="subscription-row blogEntry-619-blogId-error blogEntry-619-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-619-blogId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-619-contestId">Contest:</label></td>
                <td>
                    <select id="blogEntry-619-contestId" name="contestId" style="width: 100%;float: left;" disabled>
                        <option value=""></option>
                    </select>
                </td>
                <td>
                    <img id="blogEntry-619-contestId-loading-indicator" src="http://st.codeforces.com/s/93431/images/indicator.gif"/>
                </td>
            </tr>
        <tr class="subscription-row blogEntry-619-contestId-error blogEntry-619-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-619-contestId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-619-resourceType">Type:</label></td>
                <td>
                    <select id="blogEntry-619-resourceType" name="resourceType" style="width: 100%;">
                        <option value="" selected></option>
                        <option value="STATEMENT">statements</option>
                        <option value="TUTORIAL">tutorial</option>
                        <option value="ANNOUNCEMENT">announcement</option>
                        <option value="DISCUSSION">discussion</option>
                    </select>
                </td>
                <td></td>
            </tr>
        <tr class="subscription-row blogEntry-619-resourceType-error blogEntry-619-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-619-resourceType">-</span>
</div></td>
        </tr>
            <tr>
                <td colspan="2" style="text-align: center;">
                    <input type="submit" id="blogEntry-619-resource-submit" value="Attach" disabled
                           style="padding: 0.25em 0.5em;margin: 1em;width: 8em;"/>
                </td>
                <td>
                    <img id="blogEntry-619-resource-submitting-indicator" src="http://st.codeforces.com/s/93431/images/indicator.gif"
                         style="display: none;"/>
                </td>
            </tr>
            </tbody>
        </table>
    </form>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $(".blogEntry-619-error").hide();

        $(".attach-blogEntry-619-to-contest-link").click(function () {
            Codeforces.facebox(".attach-blogEntry-619-to-contest-form-holder", "http://st.codeforces.com/s/93431");

            $("#facebox .attach-blogEntry-619-to-contest-form").submit(function () {
                if ($(this).find(":disabled").length === 0) {
                    $("#facebox .blogEntry-619-error").hide();
                    $("#facebox #blogEntry-619-resource-submitting-indicator").show();
                    $("#facebox #blogEntry-619-resource-submit").attr("disabled", "disabled");

                    //noinspection JSUnusedGlobalSymbols
                    $.post("/data/blogAndContest?action=attachBlogToContest", {
                        blogId:"1819", contestId:$("#facebox #blogEntry-619-contestId").val(),
                        blogEntryId:"619",
                        resourceType:$("#facebox #blogEntry-619-resourceType").val()
                    }, function (json) {
                        var validated = true;

                        for (var key in json) {
                            if (json.hasOwnProperty(key) && key.indexOf("error__") === 0) {
                                validated = false;
                                $("#facebox .blogEntry-619-" + key.substring("error__".length) + "-error").show();
                                $("#facebox .for__blogEntry-619-" + key.substring("error__".length)).text(json[key]);
                            }
                        }

                        $("#facebox #blogEntry-619-resource-submitting-indicator").hide();
                        $("#facebox #blogEntry-619-resource-submit").removeAttr("disabled");

                        if (validated) {
                            $.facebox.close();
                            if (json["success"] === "true") {
                                Codeforces.showMessage("Blog has been successfully attached to selected contest");
                            } else {
                                Codeforces.showMessage("There is unexpected error while attaching blog to the contest");
                            }
                        }
                    }, "json");
                }

                return false;
            });

            var contestSelect = $("#blogEntry-619-contestId");
            var popupContestSelect = $("#facebox #blogEntry-619-contestId");

            if (popupContestSelect.is(":disabled")) {
                $.post("/data/contests?action=getContestListWithEditableResources", function (data) {
                    if (data["result"] === "success") {
                        var contests = data["contests"];

                        for (var i = 0, contestCount = contests.length; i < contestCount; ++i) {
                            //noinspection StringLiteralBreaksHTMLJS
                            var contestOptionHtml = "<option value=\"" + contests[i]["id"] + "\">"
                                    + contests[i]["id"] + " - " + contests[i]["name"] + "</option>";
                            contestSelect.append(contestOptionHtml);
                            popupContestSelect.append(contestOptionHtml);
                        }

                        contestSelect.removeAttr("disabled");
                        $("#blogEntry-619-contestId-loading-indicator").hide();
                        $("#blogEntry-619-resource-submit").removeAttr("disabled");

                        popupContestSelect.removeAttr("disabled");
                        $("#facebox #blogEntry-619-contestId-loading-indicator").hide();
                        $("#facebox #blogEntry-619-resource-submit").removeAttr("disabled");
                    } else {
                        alert("Can't receive contest list");
                    }
                }, "json");
            }

            return false;
        });
    });
</script>



        <span style="position:absolute;right:0;top:0.05em;margin-right:1em;display:inline;font-size:0.75em;">
            <div style="margin-top:0.25em;">
            </div>
        </span>
    </div>

    <div class="content">
        <div class="ttypography"><p align="right" style="text-align: left;line-height: normal;"><font size="5"><span style="font-size: 18.0px;"><i></i></span></font></p><font size="5"><i><p align="right" style="margin-bottom: 0.0cm;text-align: right;line-height: normal;"><font size="4"><span style="font-size: 16.0px;"></span></font></p><font size="4"><p align="right" style="margin-bottom: 0.0cm;text-align: right;line-height: normal;"></p><p style="text-align: justify;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">Alright, so this is my 2</span><sup><span style="font-style: normal;">nd</span></sup><span style="font-style: normal;"> post here. The 1</span><sup><span style="font-style: normal;">st</span></sup><span style="font-style: normal;"> one, as you can see, was written in Vietnamese – my mother tounge, just because I thought that CodeForces Blog could be used  for my personal purposes and my entry would not be read by anyone else, except me :D</span></span></p>  <p style="text-align: justify;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"> </span></span><span style="font-style: normal;font-size: x-large;"><i><font size="4"><i><font size="4"></font></i></font></i></span></p><i><font size="4"><i><font size="4"><p style="text-align: justify;line-height: normal;display: inline;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">Due to that, I’m gonna translate that post into English so that anyone can read it and leave feedbacks :) One more thing to say, *I’m not the original author of this article, I just rewrite it to understand BIT better *</span></span></p></font></i></font></i><i><font size="4"></font></i><i><font size="4"></font></i>  <p style="text-align: justify;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"> </span></span><span style="font-style: normal;font-size: x-large;"><i><font size="4"><i><font size="4"></font></i></font></i></span></p><i><font size="4"><i><font size="4"><p style="text-align: justify;line-height: normal;display: inline;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">PS: As I said, Vietnamese is my mother tounge, and I’m only a high school student, so sorry for my bad English. </span></span><span style="font-size: 12.0pt;font-family: Wingdings;color: black;"><span style="font-style: normal;">J</span></span></p></font></i></font></i><i><font size="4"></font></i><i><font size="4"></font></i>  <hr /><p style="text-align: justify;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"> </span></span><span style="font-style: normal;font-size: x-large;"><i><font size="4"><i><font size="4"><i><font size="4"></font></i></font></i></font></i></span></p><i><font size="4"><i><font size="4"><i><font size="4"><p style="text-align: justify;line-height: normal;display: inline;"><b><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">Advantages of BIT:</span></span></b></p></font></i></font></i></font></i><i><font size="4"></font></i><i><font size="4"></font></i><p style="text-align: justify;line-height: normal;"><span style="font-style: normal;font-size: 18.0px;"><i><font size="4"></font></i></span></p><i><font size="4"></font></i><i><font size="4"></font></i>  <p style="text-align: justify;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">            - </span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">Use less memory than RMQ</span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;"></span></span></p>  <p style="text-align: justify;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">            - </span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">Easy to code</span></span></p>  <p style="text-align: justify;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">            - </span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">Can be used in many problems about number sequence</span></span></p>  <p style="text-align: justify;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">            - </span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">Runtime</span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">: O(logN)</span></span></p>  <p style="text-align: justify;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"> </span></span><span style="font-style: normal;font-size: x-large;"><i><font size="4"><i><font size="4"></font></i></font></i></span></p><i><font size="4"><i><font size="4"><p style="text-align: justify;line-height: normal;display: inline;"><b><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">Disadvantages</span></span></b><b><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"> : </span></span></b><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">=’= BIT is hard to understand  (so that’s why I’m writing :D)</span></span></p></font></i></font></i><i><font size="4"></font></i><i><font size="4"></font></i>  <p style="text-align: justify;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"> </span></span></p><hr /><div align="center" style="margin-bottom: 0.0cm;text-align: center;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;">  </span></div>  <p style="text-align: justify;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"> </span></span><span style="font-style: normal;font-size: x-large;"><i><font size="4"><i><font size="4"></font></i></font></i></span></p><i><font size="4"><i><font size="4"><p style="text-align: justify;line-height: normal;display: inline;"><b><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">Main content:</span></span></b></p></font></i></font></i><i><font size="4"></font></i><i><font size="4"></font></i>  <p style="text-align: justify;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">            </span></span><span style="font-size: x-large;"><font size="4"></font></span></p><font size="4"><p style="text-align: justify;line-height: normal;display: inline;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"></span></span></p><p style="line-height: normal;display: inline;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">BIT consists of two operations in</span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"> </span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">an array </span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">A[1..N]</span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"> of numbers</span></span></p></font><i><font size="4"></font></i><i><font size="4"></font></i><i><font size="4"></font></i><i><font size="4"></font></i>  <p style="text-align: justify;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">  </span></span></p><p style="margin-bottom: 0.0cm;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="">            </span>SET (<i>index, value</i>) : </span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;">To add <i style="">value</i> to A[<i style="">index</i>] (or A[index] += value)</span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"></span></p>  <p style="margin-bottom: 0.0cm;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="">            </span>GET (<i>index</i>) : </span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style=""> </span><span>To sum up A[1]..A[index ] (or Get </span></span><span style="font-size: 12.0pt;font-family: &quot;Cambria Math&quot; , serif;color: black;">≔</span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"> A[1] + … + A[index])</span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"></span></p> <hr /><p style="text-align: justify;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"></span><span style="font-style: normal;font-size: 18.0px;"></span></p><i><font size="4"><p style="text-align: justify;line-height: normal;display: inline;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">          </span></span></p></font></i><i><font size="4"></font></i>  <p style="text-align: justify;line-height: normal;"><b><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">Details:</span></span></b></p>  <p style="text-align: justify;line-height: normal;"><b><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">            </span></span></b><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">We know that a natural number can be expressed as a sum of the powers of 2, for example:</span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"></span></span></p>  <p style="text-align: justify;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">        </span></span><span style="font-style: normal;font-size: x-large;"><i><font size="4"><i><font size="4"></font></i></font></i></span></p><i><font size="4"><i><font size="4"><p style="text-align: justify;line-height: normal;display: inline;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">            </span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">Example 1</span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">:</span></span></p></font></i></font></i><i><font size="4"></font></i><i><font size="4"></font></i>  <p style="text-align: justify;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">                         22       =          16        +          4          +          2</span></span></p>  <p style="text-align: justify;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">                                    =          2^4      +          2^2      +          2 ^1</span></span></p>  <p style="text-align: justify;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"> </span></span><span style="font-style: normal;font-size: x-large;"><i><font size="4"></font></i></span></p><i><font size="4"><p style="text-align: justify;line-height: normal;display: inline;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">            </span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">Applying this idea for BIT</span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">, </span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">we’re going to express the sum of</span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"> A[1]</span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">..A[n]</span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"> </span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">as a sum of sub arrays, each of them has 2^k elements</span></span></p></font></i>  <p style="text-align: justify;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"> </span></span></p><hr /><div align="center" style="text-align: justify;line-height: normal;"><span style="font-style: normal;font-size: 18.0px;"><i><font size="4"></font></i></span><i><font size="4"></font></i></div>  <p style="text-align: justify;line-height: normal;"><b><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">How to code:</span></span></b></p>  <p style="text-align: justify;line-height: normal;"><b><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"> </span></span></b><span style="font-style: normal;font-size: x-large;"><i><font size="4"><i><font size="4"></font></i></font></i></span></p><i><font size="4"><i><font size="4"><p style="text-align: justify;line-height: normal;display: inline;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">S(i,j) is the sum of A[i]..A[j]  (or S[i,j] = A[i] + A[i+1] +…+ A[j]). So with number 22 in Example 1, expressed as a sum of the powers of 2, is gonna be like this:</span></span></p></font></i></font></i><i><font size="4"></font></i><i><font size="4"></font></i>  <p style="text-align: justify;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"> </span></span><span style="font-style: normal;font-size: x-large;"><i><font size="4"><i><font size="4"></font></i></font></i></span></p><i><font size="4"><i><font size="4"><p style="text-align: justify;line-height: normal;display: inline;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">            S(1,22) = S(1,16) + S(17,20) + S(21,22)</span></span></p></font></i></font></i><p style="text-align: justify;line-height: normal;"><span style="font-style: normal;font-size: 18.0px;"><i><font size="4"></font></i></span></p><i><font size="4"><p style="text-align: justify;line-height: normal;display: inline;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"></span></span></p></font></i><span style="font-style: normal;font-size: 18.0px;"><i><p align="right" style="text-align: right;line-height: normal;display: inline;"><font size="4"><span style="font-size: 16.0px;"></span></font></p><font size="4"><p align="right" style="text-align: right;line-height: normal;display: inline;"></p><p style="text-align: left;line-height: normal;display: inline;"><span style="font-size: 18.0px;"><font size="4"></font></span></p><font size="4"><p style="line-height: normal;display: inline;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">To get the positions of sub arrays, use this formula: </span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"> i - i AND (-i)</span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"> + 1</span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">.</span></span></p></font></font></i></span><i><font size="4"></font></i><i><font size="4"></font></i><p style="text-align: left;line-height: normal;"><span style="font-size: 18.0px;"><font size="4"></font></span></p><font size="4"></font><span style="font-style: normal;"><font size="4"></font></span>  <p style="text-align: left;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">Demo</span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">.</span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">:</span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"></span></span></p>  <p style="text-align: left;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">            22 - (22 AND (-22)) = 20</span></span></p>  <p style="text-align: left;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">            20 - (20 AND (-20)) = 16 </span></span></p>  <p style="text-align: left;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">            16 - (16 AND (-16)) = 0</span></span></p>  <p style="text-align: left;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">Thus, the structure of BIT T[] will be:</span></span></p>  <p style="text-align: left;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">             T[i]</span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">: Sum of </span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"> S(</span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">i</span></span><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"> - i AND (-i) + 1 , i )</span></span></p><p style="text-align: left;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"></span></span></p><hr /><div align="center" style="margin-bottom: 0.0cm;text-align: center;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;">  </span></div>  <p style="text-align: left;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"><b>How does GET work?</b></span><span style="font-style: normal;"></span></span></p>  <p style="text-align: left;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"> </span></span><span style="font-style: normal;font-size: x-large;"><i><font size="4"><i><font size="4"></font></i></font></i></span></p><i><font size="4"><i><font size="4"><p style="text-align: left;line-height: normal;display: inline;"><u><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">Notice:</span></span></u><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"> GET (index) sums up A[1] → A[index].</span></span></p></font></i></font></i><i><font size="4"></font></i><i><font size="4"></font></i>  <p style="text-align: left;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"> </span></span><span style="font-style: normal;font-size: x-large;"><i><font size="4"><i><font size="4"></font></i></font></i></span></p><i><font size="4"><i><font size="4"><p style="text-align: left;line-height: normal;display: inline;"><u><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">Idea:</span></span></u><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"> To get the sum of A[1].. A[index], here we start with A[index] first. Parent of A[index] can be reached by using the following formula: i – i AND (-i)</span></span></p></font></i></font></i><p style="text-align: justify;line-height: normal;"><span style="font-style: normal;font-size: x-large;"><i><font size="4"><i><font size="4"></font></i></font></i></span></p><i><font size="4"><i><font size="4"><p style="text-align: left;line-height: normal;display: inline;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;"><img src="http://codeforces.com/predownloaded/db/c7/dbc733901aa8c6b312d5677686422d35daaae8a0.png" style="max-width: 100.0%;max-height: 100.0%;" /><br /></span></span></p></font></i></font></i><i><font size="4"></font></i><i><font size="4"></font></i><p style="text-align: left;line-height: normal;"><span style="font-style: normal;font-size: 18.0px;"><i><font size="4"></font></i></span></p><i><font size="4"><p style="margin-bottom: 0.0cm;line-height: normal;"><a name="OLE_LINK1"><u><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">Pseudo-code:</span></span></u></a></p>  <p style="margin-bottom: 0.0cm;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;color: black;"><span style="font-style: normal;">GET (T,i)</span></span></p>  <p style="margin-bottom: 0.0cm;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;">1 s ← 0</span></span></p>  <p style="margin-bottom: 0.0cm;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;">2 while i &gt; 0 do </span></span></p>  <p style="margin-bottom: 0.0cm;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;">3          s ← s + T[i]</span></span></p>  <p style="margin-bottom: 0.0cm;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;">4          i ← i – i and (-i)</span></span></p>  <p style="margin-bottom: 0.0cm;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;">5 return s</span></span></p>  <p style="margin-bottom: 0.0cm;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;"></span></span></p><hr /><p style="margin-bottom: 0.0cm;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;"><b> </b></span></span><span style="font-size: x-large;"><font size="4"><font size="4"></font></font></span></p><font size="4"><font size="4"><p style="line-height: normal;display: inline;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;"><b>How does SET work?</b></span></span></p></font></font>  <p style="margin-bottom: 0.0cm;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;"> </span></span><span style="font-size: x-large;"><font size="4"><font size="4"></font></font></span></p><font size="4"><font size="4"><p style="line-height: normal;display: inline;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;"><u>Notice</u>: SET (index,value) adds value units to A[index]</span></span></p></font></font>  <p style="margin-bottom: 0.0cm;line-height: normal;"><span style="font-style: normal;font-size: x-large;"><i><font size="4"><i><font size="4"><font size="4"><font size="4"></font></font></font></i></font></i></span></p><i><font size="4"><i><font size="4"><font size="4"><font size="4"><p style="line-height: normal;display: inline;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;"><u>Idea:</u> To increase the value of A[index] with value, is to increase sub arrays which CONTAINS A[index]</span></span></p></font></font></font></i></font></i>  <p style="margin-bottom: 0.0cm;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;"><u>Example</u> : We want to add 1 to A[9]. So we also have to add 1 to sub arrays which contains A[9]. Look at the image, here we have A[10], A[12] and A[16] both consist of A[9] </span></span><span style="font-size: 12.0pt;font-family: Wingdings;"><span style="font-style: normal;">J</span></span></p><p style="margin-bottom: 0.0cm;line-height: normal;"><span style="font-size: 12.0pt;font-family: Wingdings;"></span><span style="font-size: x-large;"><i><font size="4"><i><font size="4"></font></i></font></i></span></p><i><font size="4"><i><font size="4"><p style="line-height: normal;display: inline;"><span style="font-size: x-large;"><font size="4"><font size="4"></font></font></span></p><font size="4"><font size="4"><p style="line-height: normal;display: inline;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;">So how do we find which array contains A[9]?</span></p></font></font></font></i></font></i><i><font size="4"><i><font size="4"></font></i></font></i>  <p style="margin-bottom: 0.0cm;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;">Use this formula: i + i and (-i)! </span></span><span style="font-style: normal;font-size: x-large;"><i><font size="4"><i><font size="4"></font></i></font></i></span></p><i><font size="4"><i><font size="4"><p style="line-height: normal;display: inline;"><span style="font-style: normal;font-size: x-large;"><i><font size="4"><i><font size="4"></font></i></font></i></span></p><i><font size="4"><i><font size="4"><p style="line-height: normal;display: inline;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;">With this relationship, the demonstration of BIT will be opposed to the first one in GET procedure:</span></span></p></font></i></font></i></font></i></font></i><i><font size="4"><i><font size="4"></font></i></font></i><p style="margin-bottom: 0.0cm;line-height: normal;"><span style="font-style: normal;font-size: x-large;"><i><font size="4"><i><font size="4"><i><font size="4"><i><font size="4"></font></i></font></i></font></i></font></i></span></p><i><font size="4"><i><font size="4"><i><font size="4"><i><font size="4"><p style="line-height: normal;display: inline;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;"><img src="http://codeforces.com/predownloaded/cd/9c/cd9c699827f6a470e58032a3f1bdccb7f32b7e77.png" style="max-width: 100.0%;max-height: 100.0%;" /><br /></span></span></p></font></i></font></i></font></i></font></i><p style="margin-bottom: 0.0cm;line-height: normal;"><font size="4"><span style="font-size: 16.0px;font-style: normal;"><u> Pseudo-code</u></span></font></p><font size="4"><font size="4"></font></font><p style="margin-bottom: 0.0cm;line-height: normal;"><span style="z-index: 1;margin-left: 170.0px;margin-top: 3.0px;width: 505.0px;height: 168.0px;"><font size="4"><span style="font-style: normal;"><font size="4"></font></span></font></span></p><font size="4"><font size="4"></font></font>  <p style="margin-bottom: 0.0cm;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;"> </span></span><span style="font-style: normal;font-size: x-large;"><i><font size="4"><i><font size="4"></font></i></font></i></span></p><i><font size="4"><i><font size="4"><p style="line-height: normal;display: inline;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;">SET (T,i,v)</span></span></p></font></i></font></i>  <p style="margin-bottom: 0.0cm;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;">1 while i ≤ size[T] do</span></span></p><p style="margin-bottom: 0.0cm;line-height: normal;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;"></span></span><span style="font-style: normal;font-size: x-large;"><i><font size="4"><i><font size="4"></font></i></font></i></span></p><i><font size="4"><i><font size="4"><p style="line-height: normal;display: inline;"><span style="font-size: 12.0pt;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;">2          T[i] ← T[i] + v</span></span></p></font></i></font></i>  <span style="font-size: 12.0pt;line-height: 115.0%;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;">3          i ← i + i AND (-i) </span></span><br /></font></i></font></i></font><div><font size="5"><i><font size="4"><i><font size="4"><span style="font-size: 12.0pt;line-height: 115.0%;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;"><hr /></span></span></font></i></font></i></font></div><div><font size="5"><i><font size="4"><i><font size="4"><span style="font-size: 12.0pt;line-height: 115.0%;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;"><br /></span></span></font></i></font></i></font></div><div><font size="5"><i><font size="4"><i><font size="4"><span style="font-size: 12.0pt;line-height: 115.0%;font-family: &quot;Times New Roman&quot; , serif;"><span style="font-style: normal;">So that's all I know about BIT  up to now :( I'ma continue with 2D BIT later. Thank you for reading.</span></span></font></i></font></i></font></div></div>
    </div>


        <div style="font-size: 1.1rem;line-height: 11px;">
            <img style="vertical-align: middle;" src="http://st.codeforces.com/s/93431/images/blog/tags.png" title="Tags" alt="Tags"/>
                <span style="padding: 0 0.35em;">
    <a href="/search?query=binary%2520indexed%2520tree" class="tag notice" style="text-decoration: none;">binary indexed tree</a>,
                </span>
                <span style="padding: 0 0.35em;">
    <a href="/search?query=sfd" class="tag notice" style="text-decoration: none;">sfd</a>,
                </span>
                <span style="padding: 0 0.35em;">
    <a href="/search?query=%25D1%2581%25D0%25B0%25D1%2580%25D0%25B0%25D1%2582%25D0%25BE%25D0%25B2" class="tag notice" style="text-decoration: none;">саратов</a>
                </span>
        </div>

    <div class="roundbox meta" style="">
            <div class="roundbox-lt">&nbsp;</div>
            <div class="roundbox-rt">&nbsp;</div>
            <div class="roundbox-lb">&nbsp;</div>
            <div class="roundbox-rb">&nbsp;</div>
        <div class="left-meta">
            <ul>
                    <li>        <a href="#" class="topic-vote-up-619"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/93431/images/actions/voteup.png"
            alt="Vote: I like it" title="Vote: I like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-up-619">
        
        </a>
</li>
                    <li>

        
        <span title="Topic rating" style='font-size:larger;font-weight:bold;color:gray'>0</span>
        
</li>
                    <li>        <a href="#" class="topic-vote-down-619"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/93431/images/actions/votedown.png"
            alt="Vote: I do not like it" title="Vote: I do not like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-down-619">
        
        </a>
</li>
            </ul>
        </div>

        <div class="yashare-auto-init" style="display: inline; position: relative; top: 5px; left: 0;"
             data-yashareL10n="en"
             data-yashareType="none"
               data-yashareLink="http://codeforces.com/blog/entry/619"
             data-yashareTitle="Codeforces: Basic Binary Indexed Tree (English version)"
             data-yashareQuickServices="vkontakte,facebook,twitter,lj">
        </div>

        <span style="position: relative; top: 7px; left: 0.8em;">

    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="BLOG_ENTRY" data-entityId="619" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

        </span>

        <div class="right-meta">
            <ul>
                    <li>        <a href="/profile/gvikei"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/93431/images/blog/user_16x16.png"
            alt="Author" title="Author"
        /></a>
        &nbsp;


        <a href="/profile/gvikei">
        gvikei
        </a>
</li>
                    <li>        <img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/93431/images/blog/date_16x16.png"
            alt="Publication date" title="Publication date"
        />
        &nbsp;


        
        <span class="format-humantime" title="Aug/21/2010 14:18">7 years ago</span>
        
</li>
                    <li>        <a href="/blog/entry/619#comments"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/93431/images/blog/comments_16x16.png"
            alt="Comments" title="Comments"
        /></a>
        &nbsp;


        <a href="/blog/entry/619#comments">
        26
        </a>
</li>
            </ul>
        </div>

        <br style="clear:both;"/>
    </div>


<div class="comments" commentableId="629">
    <div class="title">
        <img src="http://st.codeforces.com/s/93431/images/icons/comments-48x48.png" alt="Comments" title="Comments"
             style="position:relative;top:0.6em;"/>
        <a name="comments">Comments (26)</a>
    </div>
    <div><a href="#" class="new-root-comment" style="float:right;position:relative;bottom:3.25em;">Write comment?</a></div>

<div class="comment">
    <table class="comment-table"
            commentId="9845" commentParentId="-1">
        <tr>
            <td class="left">
    <div class="avatar">
        <a href="/profile/iakolzin">
<img src='http://userpic.codeforces.com/2598/avatar/d704f39f11f5e8eb.jpg'/>        </a>
        <div><a href="/profile/iakolzin" title="Candidate Master iakolzin" class="rated-user user-violet">iakolzin</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Aug/21/2010 19:20">7 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-9845" href="?#comment-9845" style="font-size:1.2em;">#</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="9845" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

    <script type="text/javascript">
        $(document).ready(function () {
            $("img.toggle-favourite").click(function () {
                var size = $(this).attr("data-size");
                var img = $(this);

                var isFavourite = !img.hasClass("remove-favourite");
                var type = img.attr("data-type");
                var entityId = img.attr("data-entityId");

                $.post("/data/favourite",
                        { entityId: entityId, type: type, isFavourite: isFavourite },
                        function(response) {
                            if (response["success"] != "true") {
                                alert(response["message"]);
                            } else {
                                if (img.hasClass("remove-favourite")) {
                                    img.attr("src", "http://st.codeforces.com/s/93431/images/icons/star_gray_" + size + ".png");
                                    img.removeClass("remove-favourite");
                                    img.addClass("add-favourite");
                                } else {
                                    img.attr("src", "http://st.codeforces.com/s/93431/images/icons/star_yellow_" + size + ".png");
                                    img.removeClass("add-favourite");
                                    img.addClass("remove-favourite");
                                }
                            }
                        }, "json"
                );

                return false;
            });
        });
    </script>
</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="9845"
    data-commentRating="0"
    data-commentUserId="2598"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-9845">
                    <div class="moveup">
                    <div class="ttypography">This data structure is also known as Fenwick tree. Point it out for better understanding what are you talking about.</div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-9845 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-9845 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-9845">
    </ul>
</div>

<div class="comment">
    <table class="comment-table"
            commentId="13230" commentParentId="-1">
        <tr>
            <td class="left">
    <div class="avatar">
        <a href="/profile/makagonov">
<img src='http://userpic.codeforces.com/783/avatar/5c55ec55d1d2a1a5.jpg'/>        </a>
        <div><a href="/profile/makagonov" title="Expert makagonov" class="rated-user user-blue">makagonov</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Oct/31/2010 16:58">6 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-13230" href="?#comment-13230" style="font-size:1.2em;">#</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="13230" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="13230"
    data-commentRating="1"
    data-commentUserId="783"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+1</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-13230">
                    <div class="moveup">
                    <div class="ttypography">&quot;Fenwick tree&quot; is a common name for post-soviet countries mainly. In other countries it is called Binary Indexed Tree.</div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-13230 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-13230 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-13230">
            <li>
<div class="comment">
    <table class="comment-table"
            commentId="153671" commentParentId="13230">
        <tr>
            <td class="left">
    <div class="avatar">
        <a href="/profile/Xellos">
<img src='http://userpic.codeforces.com/69675/avatar/219f6d18d95969d.jpg'/>        </a>
        <div><a href="/profile/Xellos" title="International Grandmaster Xellos" class="rated-user user-red">Xellos</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Dec/10/2013 23:15">3 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-153671" href="?#comment-153671" style="font-size:1.2em;">#</a></span>
                        <span class="item"><a title="Parent comment" href="#comment-13230" style="font-size:1.2em;">^</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="153671" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="153671"
    data-commentRating="0"
    data-commentUserId="69675"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-153671">
                    <div class="moveup">
                    <div class="ttypography"><p>Well, a &quot;binary indexed tree&quot; is more general: exactly as the name says, its vertices (e.g. paths to them from the root) are, in some way, represented by the binary representation of their indices. </p><p>For example, one version of segment trees is binary indexed as well, when the root has number 1 and vertex <span class="tex-span"><i>i</i></span> has sons <span class="tex-span">2<i>i</i></span> and <span class="tex-span">2<i>i</i> + 1</span>, so the path root — vertex <span class="tex-span"><i>i</i></span> is given by the binary representation of <span class="tex-span"><i>i</i></span>, starting from the most significant 1 and up to the least significant bit.</p><p>A Fenwick tree just indexes the vertices in a special, compressed way.</p><p>BTW, it's called Finnish tree in Slovakia, I think the name stems from some Finnish olympiad that it appeared in once :D</p></div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-153671 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-153671 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-153671">
    </ul>
</div>
</li>
    </ul>
</div>

<div class="comment">
    <table class="comment-table"
            commentId="13231" commentParentId="-1">
        <tr>
            <td class="left">
    <div class="avatar">
        <a href="/profile/makagonov">
<img src='http://userpic.codeforces.com/783/avatar/5c55ec55d1d2a1a5.jpg'/>        </a>
        <div><a href="/profile/makagonov" title="Expert makagonov" class="rated-user user-blue">makagonov</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Oct/31/2010 17:01">6 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-13231" href="?#comment-13231" style="font-size:1.2em;">#</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="13231" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="13231"
    data-commentRating="0"
    data-commentUserId="783"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-13231">
                    <div class="moveup">
                    <div class="ttypography">Could you post some problems (with the possibility to submit them) on this data structure? But not the ones which require to count sum of elements from i to j, some good ones.</div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-13231 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-13231 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-13231">
            <li>
<div class="comment">
    <table class="comment-table"
            commentId="13259" commentParentId="13231">
        <tr>
            <td class="left">
    <div class="avatar">
        <a href="/profile/juver">
<img src='http://userpic.codeforces.com/2924/avatar/49579d42224288d2.jpg'/>        </a>
        <div><a href="/profile/juver" title="Expert juver" class="rated-user user-blue">juver</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Oct/31/2010 20:47">6 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-13259" href="?#comment-13259" style="font-size:1.2em;">#</a></span>
                        <span class="item"><a title="Parent comment" href="#comment-13231" style="font-size:1.2em;">^</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="13259" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="13259"
    data-commentRating="0"
    data-commentUserId="2924"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-13259">
                    <div class="moveup">
                    <div class="ttypography"><div><a href="http://acm.timus.ru/problem.aspx?space=1&amp;num=1470">BIT 3D</a></div></div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-13259 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-13259 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-13259">
    </ul>
</div>
</li>
            <li>
<div class="comment">
    <table class="comment-table"
            commentId="13267" commentParentId="13231">
        <tr>
            <td class="left">
    <div class="avatar">
        <a href="/profile/Baurzhan">
<img src='http://userpic.codeforces.com/no-avatar.jpg'/>        </a>
        <div><a href="/profile/Baurzhan" title="Unrated, Baurzhan" class="rated-user user-black">Baurzhan</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Nov/01/2010 06:26">6 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-13267" href="?#comment-13267" style="font-size:1.2em;">#</a></span>
                        <span class="item"><a title="Parent comment" href="#comment-13231" style="font-size:1.2em;">^</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="13267" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="13267"
    data-commentRating="0"
    data-commentUserId="3201"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-13267">
                    <div class="moveup">
                    <div class="ttypography">problems from acm.timus.ru where i used BIT: 1028,1090,1521,1523(something like 1028)</div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-13267 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-13267 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-13267">
            <li>
<div class="comment">
    <table class="comment-table"
            commentId="13272" commentParentId="13267">
        <tr>
            <td class="left">
    <div class="avatar">
        <a href="/profile/makagonov">
<img src='http://userpic.codeforces.com/783/avatar/5c55ec55d1d2a1a5.jpg'/>        </a>
        <div><a href="/profile/makagonov" title="Expert makagonov" class="rated-user user-blue">makagonov</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Nov/01/2010 14:04">6 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-13272" href="?#comment-13272" style="font-size:1.2em;">#</a></span>
                        <span class="item"><a title="Parent comment" href="#comment-13267" style="font-size:1.2em;">^</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="13272" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="13272"
    data-commentRating="0"
    data-commentUserId="783"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-13272">
                    <div class="moveup">
                    <div class="ttypography">Thanks a lot!</div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-13272 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-13272 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-13272">
    </ul>
</div>
</li>
            <li>
<div class="comment">
    <table class="comment-table"
            commentId="13289" commentParentId="13267">
        <tr>
            <td class="left">
    <div class="avatar">
        <a href="/profile/makagonov">
<img src='http://userpic.codeforces.com/783/avatar/5c55ec55d1d2a1a5.jpg'/>        </a>
        <div><a href="/profile/makagonov" title="Expert makagonov" class="rated-user user-blue">makagonov</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Nov/01/2010 22:12">6 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-13289" href="?#comment-13289" style="font-size:1.2em;">#</a></span>
                        <span class="item"><a title="Parent comment" href="#comment-13267" style="font-size:1.2em;">^</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="13289" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="13289"
    data-commentRating="0"
    data-commentUserId="783"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-13289">
                    <div class="moveup">
                    <div class="ttypography">Still cannot solve 1523. You say it is something like 1028, but 1028 is very easy - level[get(idx)]++; but 1523 does not look like this. Does it require K BITs?</div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-13289 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-13289 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-13289">
            <li>
<div class="comment">
    <table class="comment-table"
            commentId="13298" commentParentId="13289">
        <tr>
            <td class="left">
    <div class="avatar">
        <a href="/profile/Baurzhan">
<img src='http://userpic.codeforces.com/no-avatar.jpg'/>        </a>
        <div><a href="/profile/Baurzhan" title="Unrated, Baurzhan" class="rated-user user-black">Baurzhan</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Nov/02/2010 06:33">6 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-13298" href="?#comment-13298" style="font-size:1.2em;">#</a></span>
                        <span class="item"><a title="Parent comment" href="#comment-13289" style="font-size:1.2em;">^</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="13298" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="13298"
    data-commentRating="0"
    data-commentUserId="3201"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-13298">
                    <div class="moveup">
                    <div class="ttypography">First of all, we have to find number of decreasing subsequences of len=K in the given permutation==&gt; we can reverse permutation and find number of increasing subsequences=&gt;answers will be the same. After that, construct array of pairs(x,y) - number ai and his index (in reversed permutation!) and sort them. Now your solution of 1028 problem is the answer for k=2 Inversions --&gt; i mean your &quot;get(idx)&quot; - is the number of 2-inversions finishing in idx,so get(0)+get(1)+...+get(n) = number of 2-inversions. If you didn't understand it, draw points(sorted array of pairs - take first as the Y!! and second is the X!!) at the cartesian plane and will see the same features with 1028. after that repaat k-times 1028 solution. you need only one bit and two arrays - a_new,a_old. If you still have problems with understanding, i will send my code as private messgae to you</div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-13298 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-13298 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-13298">
            <li>
<div class="comment">
    <table class="comment-table"
            commentId="13299" commentParentId="13298">
        <tr>
            <td class="left">
    <div class="avatar">
        <a href="/profile/makagonov">
<img src='http://userpic.codeforces.com/783/avatar/5c55ec55d1d2a1a5.jpg'/>        </a>
        <div><a href="/profile/makagonov" title="Expert makagonov" class="rated-user user-blue">makagonov</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Nov/02/2010 08:07">6 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-13299" href="?#comment-13299" style="font-size:1.2em;">#</a></span>
                        <span class="item"><a title="Parent comment" href="#comment-13298" style="font-size:1.2em;">^</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="13299" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="13299"
    data-commentRating="0"
    data-commentUserId="783"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-13299">
                    <div class="moveup">
                    <div class="ttypography">I don't get to what you are applying 1028 solution k-times (what is a_new, a_old) - in 1028 I didn't store any frequencies, but was only updating the tree and levels. I think in order not to expand this blog endlessly, it would be better to simply send me your solution :) Thanks in advance!</div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-13299 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-13299 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-13299">
            <li>
<div class="comment">
    <table class="comment-table"
            commentId="13300" commentParentId="13299">
        <tr>
            <td class="left">
    <div class="avatar">
        <a href="/profile/Baurzhan">
<img src='http://userpic.codeforces.com/no-avatar.jpg'/>        </a>
        <div><a href="/profile/Baurzhan" title="Unrated, Baurzhan" class="rated-user user-black">Baurzhan</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Nov/02/2010 08:23">6 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-13300" href="?#comment-13300" style="font-size:1.2em;">#</a></span>
                        <span class="item"><a title="Parent comment" href="#comment-13299" style="font-size:1.2em;">^</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="13300" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="13300"
    data-commentRating="0"
    data-commentUserId="3201"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-13300">
                    <div class="moveup">
                    <div class="ttypography">sent</div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-13300 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-13300 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-13300">
    </ul>
</div>
</li>
    </ul>
</div>
</li>
    </ul>
</div>
</li>
    </ul>
</div>
</li>
    </ul>
</div>
</li>
    </ul>
</div>

<div class="comment">
    <table class="comment-table"
            commentId="13282" commentParentId="-1">
        <tr>
            <td class="left">
    <div class="avatar">
        <a href="/profile/ivan.popelyshev">
<img src='http://userpic.codeforces.com/73/avatar/dcae35722510f549.jpg'/>        </a>
        <div><a href="/profile/ivan.popelyshev" title="Master ivan.popelyshev" class="rated-user user-orange">ivan.popelyshev</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Nov/01/2010 20:09">6 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-13282" href="?#comment-13282" style="font-size:1.2em;">#</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="13282" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="13282"
    data-commentRating="0"
    data-commentUserId="73"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-13282">
                    <div class="moveup">
                    <div class="ttypography">Test</div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-13282 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-13282 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-13282">
    </ul>
</div>

<div class="comment">
    <table class="comment-table"
            commentId="29809" commentParentId="-1">
        <tr>
            <td class="left">
    <div class="avatar">
        <a href="/profile/sicasli">
<img src='http://userpic.codeforces.com/10281/avatar/8aa5e308717a2754.jpg'/>        </a>
        <div><a href="/profile/sicasli" title="Expert sicasli" class="rated-user user-blue">sicasli</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Mar/25/2011 09:00">6 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-29809" href="?#comment-29809" style="font-size:1.2em;">#</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="29809" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="29809"
    data-commentRating="1"
    data-commentUserId="10281"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+1</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-29809">
                    <div class="moveup">
                    <div class="ttypography">BIT problems in SPOJ :<br /><br />6256. INVCNT<br />6294. YODANESS (same as INVCNT but string)<br />8002. HORRIBLE (BIT or segment tree)<br />2815. INCSEQ (DP + BIT)<br />1329. KPMATRIX (DP + BIT)<br />1029. MATSUM (BIT 2D)<br /></div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-29809 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-29809 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-29809">
            <li>
<div class="comment">
    <table class="comment-table"
            commentId="29889" commentParentId="29809">
        <tr>
            <td class="left">
    <div class="avatar">
        <a href="/profile/DamianS">
<img src='http://userpic.codeforces.com/no-avatar.jpg'/>        </a>
        <div><a href="/profile/DamianS" title="International master DamianS" class="rated-user user-orange">DamianS</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Mar/25/2011 23:57">6 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-29889" href="?#comment-29889" style="font-size:1.2em;">#</a></span>
                        <span class="item"><a title="Parent comment" href="#comment-29809" style="font-size:1.2em;">^</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="29889" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="29889"
    data-commentRating="0"
    data-commentUserId="5991"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-29889">
                    <div class="moveup">
                    <div class="ttypography">How do you solve HORRIBLE using BIT?</div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-29889 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-29889 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-29889">
            <li>
<div class="comment">
    <table class="comment-table"
            commentId="29896" commentParentId="29889">
        <tr>
            <td class="left">
    <div class="avatar">
        <a href="/profile/sicasli">
<img src='http://userpic.codeforces.com/10281/avatar/8aa5e308717a2754.jpg'/>        </a>
        <div><a href="/profile/sicasli" title="Expert sicasli" class="rated-user user-blue">sicasli</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Mar/26/2011 06:36">6 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-29896" href="?#comment-29896" style="font-size:1.2em;">#</a></span>
                        <span class="item"><a title="Parent comment" href="#comment-29889" style="font-size:1.2em;">^</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="29896" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="29896"
    data-commentRating="0"
    data-commentUserId="10281"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-29896">
                    <div class="moveup">
                    <div class="ttypography">similar to segment tree solution.. save two element in BIT array.. first, multiplied number, second, not multiplied..<br /><br />when you want to update a..b += v , you can call update(a,v) and update(b+1,-v)<br />and when you want to know sum a..b you can call query(b)-query(a-1)<br /><br />in query(p) function, you can do something like this :<br />res += bit[i][0];<br />res += bit[i][1]*(p-i);<br /><br />i think it's easier than segment tree.. :D</div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-29896 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-29896 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-29896">
            <li>
<div class="comment">
    <table class="comment-table"
            commentId="47872" commentParentId="29896">
        <tr>
            <td class="left">
    <div class="avatar">
        <a href="/profile/crazysaikat">
<img src='http://userpic.codeforces.com/no-avatar.jpg'/>        </a>
        <div><a href="/profile/crazysaikat" title="Unrated, crazysaikat" class="rated-user user-black">crazysaikat</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Jul/18/2011 12:32">6 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-47872" href="?#comment-47872" style="font-size:1.2em;">#</a></span>
                        <span class="item"><a title="Parent comment" href="#comment-29896" style="font-size:1.2em;">^</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="47872" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="47872"
    data-commentRating="0"
    data-commentUserId="23364"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-47872">
                    <div class="moveup">
                    <div class="ttypography">Can you please be more clear on maintaining 2D array part, how to update?<div><br /></div><div>Thank you</div></div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-47872 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-47872 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-47872">
    </ul>
</div>
</li>
            <li>
<div class="comment">
    <table class="comment-table"
            commentId="49273" commentParentId="29896">
        <tr>
            <td class="left">
    <div class="avatar">
        <a href="/profile/krzys.minib00m">
<img src='http://userpic.codeforces.com/no-avatar.jpg'/>        </a>
        <div><a href="/profile/krzys.minib00m" title="Expert krzys.minib00m" class="rated-user user-blue">krzys.minib00m</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Jul/26/2011 20:25">6 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-49273" href="?#comment-49273" style="font-size:1.2em;">#</a></span>
                        <span class="item"><a title="Parent comment" href="#comment-29896" style="font-size:1.2em;">^</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="49273" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="49273"
    data-commentRating="0"
    data-commentUserId="21388"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-49273">
                    <div class="moveup">
                    <div class="ttypography">Yes, please tell something more about this :) I'm very interested.</div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-49273 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-49273 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-49273">
    </ul>
</div>
</li>
            <li>
<div class="comment">
    <table class="comment-table"
            commentId="122206" commentParentId="29896">
        <tr>
            <td class="left">
    <div class="avatar">
        <a href="/profile/sourabh912">
<img src='http://userpic.codeforces.com/57335/avatar/bf83b9340e3cbb17.jpg'/>        </a>
        <div><a href="/profile/sourabh912" title="Specialist sourabh912" class="rated-user user-cyan">sourabh912</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Feb/12/2013 22:24">4 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-122206" href="?#comment-122206" style="font-size:1.2em;">#</a></span>
                        <span class="item"><a title="Parent comment" href="#comment-29896" style="font-size:1.2em;">^</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="122206" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="122206"
    data-commentRating="0"
    data-commentUserId="57335"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-122206">
                    <div class="moveup">
                    <div class="ttypography"><p>I have a doubt in the update(a,b,v).Suppose N=8 i.e there are total 8 elements. Now update(3,6,10) will update(add 10 to) elements from index 3 to index 6. As mentioned above update(3,6,10) can be performed as update(3,10) and update(7,-10). update(3,10) adds 10 to indexes 3,4 and 8. Similarly update(7,-10) adds -10 to indexes 7 and 8.Now to find sum(6) which is the sum of all elements from index 1 to 6 , will be sum(5...6)+sum(1.....4) but index 5 and 6 were not updated. So I want to ask how is it giving the correct result?</p></div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-122206 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-122206 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-122206">
    </ul>
</div>
</li>
    </ul>
</div>
</li>
    </ul>
</div>
</li>
    </ul>
</div>

<div class="comment">
    <table class="comment-table"
            commentId="122921" commentParentId="-1">
        <tr>
            <td class="left">
                <div style="position: absolute; left: 0;" class="comment-indent-holder">
                        <div class="comment-no-indent">
                            <span>&raquo;</span>
                        </div>
                </div>
    <div class="avatar">
        <a href="/profile/megalodon">
<img src='http://userpic.codeforces.com/71691/avatar/7e88065b1c756827.jpg'/>        </a>
        <div><a href="/profile/megalodon" title="Pupil megalodon" class="rated-user user-green">megalodon</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Feb/17/2013 11:46">4 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-122921" href="?#comment-122921" style="font-size:1.2em;">#</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="122921" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="122921"
    data-commentRating="0"
    data-commentUserId="71691"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-122921">
                    <div class="moveup">
                    <div class="ttypography"><p>Another tutorial about it: <a href="http://prodeportiva.wordpress.com/2013/02/17/arbol-de-fenwick/">http://prodeportiva.wordpress.com/2013/02/17/arbol-de-fenwick/</a></p></div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-122921 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-122921 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-122921">
    </ul>
</div>

<div class="comment">
    <table class="comment-table"
            commentId="148203" commentParentId="-1">
        <tr>
            <td class="left">
                <div style="position: absolute; left: 0;" class="comment-indent-holder">
                        <div class="comment-no-indent">
                            <span>&raquo;</span>
                        </div>
                </div>
    <div class="avatar">
        <a href="/profile/calmhandtitan">
<img src='http://userpic.codeforces.com/135788/avatar/aba9fc5ac228b38d.jpg'/>        </a>
        <div><a href="/profile/calmhandtitan" title="Pupil calmhandtitan" class="rated-user user-green">calmhandtitan</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Oct/13/2013 17:34">3 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-148203" href="?#comment-148203" style="font-size:1.2em;">#</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="148203" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="148203"
    data-commentRating="0"
    data-commentUserId="135788"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-148203">
                    <div class="moveup">
                    <div class="ttypography"><pre><code>can someone please post a tutorial on implementing a 2D BIT ?
</code></pre></div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-148203 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-148203 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-148203">
            <li>
<div class="comment">
    <table class="comment-table"
            commentId="148444" commentParentId="148203">
        <tr>
            <td class="left">
                <div style="position: absolute; left: 0;" class="comment-indent-holder">
                        <div class="comment-no-indent">
                            <span>&raquo;</span>
                        </div>
                        <div class="comment-no-indent">
                            <span>&raquo;</span>
                        </div>
                </div>
    <div class="avatar">
        <a href="/profile/k790alex">
<img src='http://userpic.codeforces.com/119882/avatar/4baeddca65b2b958.jpg'/>        </a>
        <div><a href="/profile/k790alex" title="Specialist k790alex" class="rated-user user-cyan">k790alex</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Oct/14/2013 06:52">3 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-148444" href="?#comment-148444" style="font-size:1.2em;">#</a></span>
                        <span class="item"><a title="Parent comment" href="#comment-148203" style="font-size:1.2em;">^</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="148444" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="148444"
    data-commentRating="0"
    data-commentUserId="119882"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-148444">
                    <div class="moveup">
                    <div class="ttypography"><p><a href="http://community.topcoder.com/tc?module=Static&amp;d1=tutorials&amp;d2=binaryIndexedTrees">http://community.topcoder.com/tc?module=Static&amp;d1=tutorials&amp;d2=binaryIndexedTrees</a></p><p>this tutorial have an example for BIT 2D but it's only the update proccess, but if you understand BIT, you could think and implement the query method.</p></div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-148444 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-148444 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-148444">
            <li>
<div class="comment">
    <table class="comment-table"
            commentId="205524" commentParentId="148444">
        <tr>
            <td class="left">
                <div style="position: absolute; left: 0;" class="comment-indent-holder">
                        <div class="comment-no-indent">
                            <span>&raquo;</span>
                        </div>
                        <div class="comment-no-indent">
                            <span>&raquo;</span>
                        </div>
                        <div class="comment-no-indent">
                            <span>&raquo;</span>
                        </div>
                </div>
    <div class="avatar">
        <a href="/profile/TheUselessGuy">
<img src='http://userpic.codeforces.com/224964/avatar/92a457c0530efa9c.jpg'/>        </a>
        <div><a href="/profile/TheUselessGuy" title="Expert TheUselessGuy" class="rated-user user-blue">TheUselessGuy</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Jan/07/2015 13:31">2 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-205524" href="?#comment-205524" style="font-size:1.2em;">#</a></span>
                        <span class="item"><a title="Parent comment" href="#comment-148444" style="font-size:1.2em;">^</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="205524" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="205524"
    data-commentRating="0"
    data-commentUserId="224964"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-205524">
                    <div class="moveup">
                    <div class="ttypography"><p><a href="http://e-maxx.ru/algo/fenwick_tree">http://e-maxx.ru/algo/fenwick_tree</a> This one is nice, but it is in Russian.</p></div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-205524 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-205524 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-205524">
    </ul>
</div>
</li>
    </ul>
</div>
</li>
    </ul>
</div>

<div class="comment">
    <table class="comment-table"
            commentId="153656" commentParentId="-1">
        <tr>
            <td class="left">
                <div style="position: absolute; left: 0;" class="comment-indent-holder">
                        <div class="comment-no-indent">
                            <span>&raquo;</span>
                        </div>
                </div>
    <div class="avatar">
        <a href="/profile/vermashubhang">
<img src='http://userpic.codeforces.com/64312/avatar/2bcafecf9cbfe202.jpg'/>        </a>
        <div><a href="/profile/vermashubhang" title="Expert vermashubhang" class="rated-user user-blue">vermashubhang</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Dec/10/2013 19:39">3 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-153656" href="?#comment-153656" style="font-size:1.2em;">#</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="153656" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="153656"
    data-commentRating="0"
    data-commentUserId="64312"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-153656">
                    <div class="moveup">
                    <div class="ttypography"><p>I have searched and found that the update and query in case of 2D binary Indexed trees are simple and the code snippets are provided but there is nowhere given on how to initialize the 2D Tree array in that case. Could you please help me in this.</p></div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-153656 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-153656 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-153656">
    </ul>
</div>

<div class="comment">
    <table class="comment-table"
            commentId="155746" commentParentId="-1">
        <tr>
            <td class="left">
                <div style="position: absolute; left: 0;" class="comment-indent-holder">
                        <div class="comment-no-indent">
                            <span>&raquo;</span>
                        </div>
                </div>
    <div class="avatar">
        <a href="/profile/parikshit979">
<img src='http://userpic.codeforces.com/14013/avatar/69f06111f2a4e90f.jpg'/>        </a>
        <div><a href="/profile/parikshit979" title="Specialist parikshit979" class="rated-user user-cyan">parikshit979</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Dec/29/2013 18:20">3 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-155746" href="?#comment-155746" style="font-size:1.2em;">#</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="155746" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="155746"
    data-commentRating="1"
    data-commentUserId="14013"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+1</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-155746">
                    <div class="moveup">
                    <div class="ttypography"><p>I found this site <a href="http://zobayer.blogspot.in/">http://zobayer.blogspot.in/</a></p><p>It explains 1D,2D BIT with simple example :)</p></div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-155746 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-155746 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-155746">
    </ul>
</div>

<div class="comment">
    <table class="comment-table"
            commentId="184344" commentParentId="-1">
        <tr>
            <td class="left">
                <div style="position: absolute; left: 0;" class="comment-indent-holder">
                        <div class="comment-no-indent">
                            <span>&raquo;</span>
                        </div>
                </div>
    <div class="avatar">
        <a href="/profile/mb1994">
<img src='http://userpic.codeforces.com/213466/avatar/9c46dacdac1ebf7c.jpg'/>        </a>
        <div><a href="/profile/mb1994" title="Expert mb1994" class="rated-user user-blue">mb1994</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Aug/24/2014 09:40">3 years ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-184344" href="?#comment-184344" style="font-size:1.2em;">#</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="184344" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="184344"
    data-commentRating="0"
    data-commentUserId="213466"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-184344">
                    <div class="moveup">
                    <div class="ttypography"><p>Simple yet nice explanation. Thanks a lot.</p></div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-184344 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-184344 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-184344">
    </ul>
</div>

<div class="comment">
    <table class="comment-table"
            commentId="321236" commentParentId="-1">
        <tr>
            <td class="left">
                <div style="position: absolute; left: 0;" class="comment-indent-holder">
                        <div class="comment-no-indent">
                            <span>&raquo;</span>
                        </div>
                </div>
    <div class="avatar">
        <a href="/profile/alphaguy4">
<img src='http://userpic.codeforces.com/321120/avatar/5c6df74a77abb6c.jpg'/>        </a>
        <div><a href="/profile/alphaguy4" title="Specialist alphaguy4" class="rated-user user-cyan">alphaguy4</a></div>
    </div>
            </td>
            <td class="right">
                <div class="info">
                    
                    <span class="item"><span class="format-humantime" title="Oct/17/2016 20:28">4 months ago</span>,</span>
                    <span class="item"><a title="Link to comment" name="comment-321236" href="?#comment-321236" style="font-size:1.2em;">#</a></span>
                    <span class="item">|</span>
                    <span style="position: relative; top: 2px;">
    <span>
            <img class="toggle-favourite add-favourite" title="Add to favourites" alt="Add to favourites" data-type="COMMENT" data-entityId="321236" data-size="12" src="http://st.codeforces.com/s/93431/images/icons/star_gray_12.png"/>
    </span>

</span>
                    <div style="position:absolute;right:0;top:0;">
                        &nbsp;

<span commentid="321236"
    data-commentRating="0"
    data-commentUserId="321120"
>
<a href="#" class="vote-for-comment" voteDirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"/></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" voteDirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"/></a>
</span>                    </div>
                </div>
                <div class="comment-content comment-content-321236">
                    <div class="moveup">
                    <div class="ttypography"><p>A very nice tutorial indeed You can also follow below link for some applications of fenwick tree(or BIT): <a href="https://kartikkukreja.wordpress.com/2013/12/02/range-updates-with-bit-fenwick-tree/#more-420">https://kartikkukreja.wordpress.com/2013/12/02/range-updates-with-bit-fenwick-tree/#more-420</a></p></div>
                    </div>
                </div>
                <div class="reply info">
                    <a class="comment-321236 en false" href="#" style="text-decoration: none;"><span class="arrow">&rarr;</span></a>
                    <a class="comment-321236 en false" href="#">Reply</a>
                </div>
            </td>
        </tr>
    </table>
    <ul class="comment-children comment-321236">
    </ul>
</div>
    <br/>

<div id="editBox-629" style="width:50em;display:none;">
    <div class="previewBody" style="border: 1px solid #d4d4d4; margin-bottom: 0.5em; padding: 0.25em; display:none;">&nbsp;</div>
    <textarea data-drafts-id="CommentReplyFrame" class="wysiwyg" name="editContent" rows="20" style="width:99%;"></textarea>
    <div class="error error__content"></div>
    <div style="text-align:center;">
        <input type="button" name="preview" style="padding: 0.25em 1em; margin-top: 1em; min-width: 6.5em;" value="Preview"/>
        <input type="button" name="save" style="padding: 0.25em 1em; margin-top: 1em; min-width: 6.5em;" value="Save"/>
    </div>
</div>

    <script type="text/javascript">
        $(document).ready(function () {

var firstPreview629 = true;
var lastPreviewContent629 = '';

if (!window.moveCommentRevision) {
    moveCommentRevision = function(e, dir) {
        var p = e.parent();
        var revisionCount = parseInt(p.attr("revisionCount"));
        var revision = parseInt(p.attr("revision"));
        var next = revision + dir;
        var commentId = p.attr("commentId");
        if (next >= 1 && next <= revisionCount) {
            $.post(
                "/data/comment-data",
                {action: "revision", commentId: commentId, revision: next},
                function(json) {
                    if (json.success == "true") {
                        var parentDiv = e;

                        while (parentDiv !== null && (parentDiv[0].nodeName.toLowerCase() !== "td" || !parentDiv.hasClass("right"))) {
                            parentDiv = parentDiv.parent();
                        }

                        if (parentDiv === null) {
                            return;
                        }

                        parentDiv.find("div.comment-content-" + commentId + " .moveup").html(json.content);
                        Codeforces.setupSpoilers(parentDiv.find("div.comment-content-" + commentId + " .moveup"));
                        p.attr("revision", next);
                        p.find("span.revision").text(next);
                        if (next == 1) {
                            p.find("a.leftRevision").css("visibility", "hidden");
                        } else {
                            p.find("a.leftRevision").css("visibility", "visible");
                        }
                        if (next == revisionCount) {
                            p.find("a.rightRevision").css("visibility", "hidden");
                        } else {
                            p.find("a.rightRevision").css("visibility", "visible");
                        }

                        window.updateTypography();
                    } else {
                        alert(e.error);
                    }
                },
                "json"
            );
        }
    };
}

$("div[commentableId=629] a.leftRevision").click(function () {
    window.moveCommentRevision($(this), -1);
    return false;
});

$("div[commentableId=629] a.rightRevision").click(function () {
    window.moveCommentRevision($(this), +1);
    return false;
});

    $("div[commentableId=629] a.editCommentLink").click(function () {
        if (confirm("You may edit your comment only for fixing grammar mistakes or small changes. Do not change the main idea of your comment. All previous revisions are available for others. Are you sure you want to edit comment?")) {
            Codeforces.facebox("#editBox-629", "http://st.codeforces.com/s/93431");
            firstPreview629 = true;
            lastPreviewContent629 = '';
            $("#facebox #editBox-629 textarea.wysiwyg").drafts({textDrafts: "Drafts", textUseIt: "Use it", url: "/data/draft", saveErrorMessage: "Can't save draft. Possibly connection is lost or session is expired. Stay on the page (cancel to reload)?"});
            var commentId = $(this).attr("commentId");
            $.post("/data/comment-data", {action: "content", commentId: commentId}, function(json) {
                if (json["success"] != "true") {
                    alert(json["error"]);
                    return;
                }
                var content = json["content"];
                $("#facebox #editBox-629 textarea.wysiwyg").val(content);

                $("#facebox #editBox-629 textarea.wysiwyg").css("width", "97%").markItUp(commentSettings).css("height", "200px");

                $("#facebox #editBox-629 input[name='save']").click(function () {
                    var content = $("#facebox #editBox-629 textarea.wysiwyg").val();
                    $.post(
                        "/data/comment-data",
                        {action: "update", commentId: commentId, content: content, subscribedCommentLinkInfix: "S3mjZHdSlZRZfO3CiXzYPSpirls*/blog/entry/619"},
                        function(json) {
                            if (json.success == "true") {
                                Codeforces.reload();
                            } else {
                                $("#facebox #editBox-629 div.error__content").text(json.error__content);
                                window.updateTypography();
                            }
                        },
                        "json"
                    );

                    return false;
                });

                $("#facebox #editBox-629 input[name='preview']").click(function () {
                    var content = $("#facebox #editBox-629 textarea[name='editContent']").val();
                    if (firstPreview629 || lastPreviewContent629 != content) {
                        firstPreview629 = false;
                        lastPreviewContent629 = content;
                        commentPreviewShow629(commentId);
                    }
                    return false;
                });
            }, "json");
        }
        return false;
    });

    var commentPreviewShow629 = function(commentId) {
        var content = $("#facebox #editBox-629 textarea[name='editContent']").val();
        var replyLocale = '';
        $.post(
        "/data/comment-data", {action: "preview", replyLocale: replyLocale, content: content, commentId: commentId},
            function(json) {
                if (json.success == "true") {
                    $("#facebox #editBox-629 .previewBody").html("<div style='font-size: 1.2rem;'>Comment preview:<hr/></div><div class='comment-content' style='position: relative; bottom: 12px;'>" + json.response + "</div>").fadeIn();
                    Codeforces.setupSpoilers($("#facebox #editBox-629 .previewBody"));
                } else {
                    $("#facebox #editBox-629 .previewBody").html("<div><b style='color:red;'>Comment preview error:</b><hr/><div>" + json.error__content).fadeIn();
                }
                window.updateTypography();
            },
            "json"
        );
        return false;
    };

    $("div[commentableId=629] a.deleteCommentLink").click(function () {
        if (confirm("Are you sure you want to delete this comment?")) {
            var commentId = $(this).attr("commentId");
            $.post("/data/comment-data", {action: "delete", commentId: commentId}, function(json) {
                if (json.success == "true") {
                    Codeforces.reload();
                } else {
                    alert(json.error);
                }
            }, "json");
        }
        return false;
    });

        });
    </script>

<div class="comment comment-reply-prototype" style="display:none;">
        <table class="comment-table" style="width: 100%;">
            <tr>
                <td class="left">
    <div class="avatar">
        <a href="/profile/free_bird">
<img src='http://userpic.codeforces.com/no-avatar.jpg'/>        </a>
        <div><a href="/profile/free_bird" title="Pupil free_bird" class="rated-user user-green">free_bird</a></div>
    </div>
                </td>
                <td class="right" style="padding:1em 0 1em 1em;">
                    <form action="" method="post" class="commentReplyForm"><input type='hidden' name='csrf_token' value='6504163200fc54991cc63fe9bcd8949b'/>
                        <input type="hidden" name="commentReplyFormSubmitted" value="true"/>
                        <input type="hidden" name="commentId"/>
                        <input type="hidden" name="hasMaximalDepth"/>
                        <input type="hidden" name="commentableId"/>
                        <table class="table-form" style="width:100%;">
                            <tr>
                                <td style="width: 1px">&nbsp;</td><td>
                                <div style="position: relative; top: 0.5em;left:4px;">
                                    <input type="radio" name="locale" value="en"><span style="font-size: 1.2rem;position: relative; bottom: 3px;">In English</span>
                                    <input style="margin-left:1em" type="radio" name="locale" value="ru"><span style="font-size: 1.2rem;position: relative; bottom: 3px;">In Russian</span>
                                </div>
                                </td>
                            </tr>
                            <tr>
                                <td style="width: 1px;">&nbsp;</td><td>
                                    <div class="previewBody" style="border: 1px solid #d4d4d4; margin-bottom: 0.5em; padding: 0.25em; display:none;">&nbsp;</div>
                                    <textarea data-drafts-id="CommentReplyFrame" class="no-wysiwyg" name="replyContent" rows="10" style="width: 100%;"></textarea>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2" valign="top">
                                    <div style="float: left;" class="small">
         <div class="shiftUp error__commentWithId">
             <span class="error for__commentWithId " style="display: none;">&nbsp;</span>
             <span class="notice for__commentWithId ">&nbsp;</span>
         </div>
         <div class="shiftUp error__content">
             <span class="error for__content " style="display: none;">&nbsp;</span>
             <span class="notice for__content ">&nbsp;</span>
         </div>
                                    </div>
                                    <div style="position: relative; right: 4px;text-align:right;">
                                        <div style="position: relative; display: inline-block;">
                                            <img style="left:-24px;" class="ajax-loading-gif" src="http://st.codeforces.com/s/93431/images/ajax-loading-16x16.gif"/>
                                            <input style="font-size: 0.7em;height:1.8em;padding:0 0.75em;" type="submit" name="submit" value="Post"/>
                                            <input style="font-size: 0.7em;height:1.8em;padding:0 0.75em;" type="button" class="preview" value="Preview"/>
                                            <input style="font-size: 0.7em;height:1.8em;padding:0 0.75em;" type="button" class="cancel" value="Cancel"/>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </form>
                </td>
            </tr>
        </table>
</div>

        <script type="text/javascript">
            $(function() {
                window._ftaa = "8le1ux3eoeqyp7kerl";
            })
        </script>

        <script type="text/javascript">
            $(function() {
                window._bfaa = "5f40b3eda816dbc0157754ff90cf157d";
            });
        </script>

    <script type="text/javascript">
        $(document).ready(function () {
    var commentPreviewListener = function(div) {
        var content = div.find("textarea").val();
        var replyLocale = div.find('input[name=locale]:checked').val();

        $.post(
            "/data/comment-data",
            {action: "preview", replyLocale: replyLocale, content: content},
            function(json) {
                if (json.success == "true") {
                    div.find(".previewBody").html("<div style='font-size: 1.2rem;'>Comment preview:<hr/></div><div class='comment-content' style='position: relative; bottom: 12px;'>" + json.response + "</div>").fadeIn();
                    Codeforces.setupSpoilers(div.find(".previewBody"));
                } else {
                    div.find(".previewBody").html("<div><b style='color:red;'>Comment preview error:</b><hr/><div>" + json.error__content).fadeIn();
                }
                window.updateTypography();
            },
            "json"
        );

        return false;
    }

    var commentReplyFormSubmitListener = function () {
        var id = $(this).attr("id");
        var hasMaximalDepth = $(this).find("input[name=hasMaximalDepth]").val() || "false";
        var commentWithId = $(this).find("input[name=commentId]").val() || "";
        var content = $(this).find("textarea").val();
        var commentableId = $(this).find("input[name=commentableId]").val() || 0;
        var commentReplyFormSubmitted = $(this).find("input[name=commentReplyFormSubmitted]").val();
        var replyLocale = $(this).find('input[name=locale]:checked').val();

        var postNewCommentReply = function () {
            $.post(
                "/data/new-comment-reply",
                {ftaa: window._ftaa, bfaa: window._bfaa, commentWithId:     commentWithId, content: content, commentReplyFormSubmitted: commentReplyFormSubmitted, _tta: Codeforces.tta(), replyLocale: replyLocale, commentableId: commentableId, subscribedCommentLinkInfix: "S3mjZHdSlZRZfO3CiXzYPSpirls*/blog/entry/619"},
                function(data) {
                    var invalid = Codeforces.setAjaxFormErrors("#" + id , data);
                    var newCommentWithId = data.newCommentWithId;
                    if (!invalid) {
                        var s = window.location.toString();
                        var found = false;
                        for (var i = 0; i < s.length; i++)
                            if (s.charAt(i) == '#') {
                                found = true;
                                index = i;
                            }
                        if (!found) {
                            s += "#" + newCommentWithId;
                        } else {
                            s = s.substr(0, index + 1) + newCommentWithId;
                        }
                        window.location = s;
                        window.location.reload();
                    }
                },
                "json"
            );
        };

        $.post("/data/checkTextForRussianLanguage", { text: content }, function(response) {
            var isRussianComment = response["isRussianComment"];
            if (replyLocale == "en" && isRussianComment == "true") {
                Codeforces.confirm(
                    "Are you sure that your comment in English?",
                    postNewCommentReply, function () { },
                    "Yes", "No"
                );
            } else if (replyLocale == "ru" && isRussianComment == "false") {
                Codeforces.confirm(
                    "Are you sure that your comment in Russian?",
                    postNewCommentReply, function () { },
                    "Yes", "No"
                );
            } else {
                postNewCommentReply();
            }
        }, "json");

        return false;
    }
    $("a.new-root-comment").click(function () {
            var a = $(this);
            a.hide();

            var commentableId = $(".comments").attr("commentableId");
            var e = $(".comment-reply-prototype").clone().removeClass("comment-reply-prototype");

            var div = $("<div></div>").append(e);
            var p = $(this).parent();
            p.prepend(div);
            e.show();

            e.find("input[value=en]").attr("checked", true);
            e.find("input[name=commentableId]").attr("value", commentableId);
            e.find("form").submitOnce(commentReplyFormSubmitListener, true);
            e.find("form").attr("id", "form-" + (new Date().getTime()));

            div.find('textarea.no-wysiwyg').css("width", "97%").markItUp(commentSettings).css("height", "200px");
            div.find('textarea.no-wysiwyg').removeClass("no-wysiwyg");
            div.find('textarea').drafts({textDrafts: "Drafts", textUseIt: "Use it", url: "/data/draft", saveErrorMessage: "Can't save draft. Possibly connection is lost or session is expired. Stay on the page (cancel to reload)?"});

            var first = true;
            div.find(".cancel").each(function () {
                if (first) {
                    $(this).click(function () {
                        div.remove();
                        a.show();
                        return false;
                    });
                    first = false;
                }
            });

            first = true;
            div.find(".preview").each(function () {
                if (first) {
                    $(this).click(function () {
                        commentPreviewListener(div);
                        return false;
                    });
                    first = false;
                }
            });
        return false;
    });

    $(".comment-table .reply a").click(function () {
            var classes = this.className.split(" ");
            var commentId = classes[0];
            var locale = classes[1];
            var hasMaximalDepth = classes[2];
            var commentableId = $(".comments").attr("commentableId");

            showReplyWindow = function () {
                var e = $(".comment-reply-prototype").clone().removeClass("comment-reply-prototype");

                var li = $("<li></li>").append(e);
                var ul = $(".comment ul." + commentId);
                ul.prepend(li);
                e.show();
                e.find("input[name=commentId]").attr("value", commentId);
                e.find("input[name=hasMaximalDepth]").attr("value", hasMaximalDepth);
                e.find("input[value=" + locale + "]").attr("checked", true);
                e.find("input[name=locale]").attr("readonly", true);
                e.find("input[name=locale]").attr("disabled", true);
                e.find("input[name=commentableId]").attr("value", commentableId);
                e.find("form").submitOnce(commentReplyFormSubmitListener, true);
                e.find("form").attr("id", "form-" + (new Date().getTime()));

                li.find('textarea').css("width", "97%").markItUp(commentSettings).css("height", "200px");

                setTimeout(function () {
                    li.find('textarea').drafts({textDrafts: "Drafts", textUseIt: "Use it", url: "/data/draft", saveErrorMessage: "Can't save draft. Possibly connection is lost or session is expired. Stay on the page (cancel to reload)?"});
                }, 1000);

                var first = true;
                ul.find(".cancel").each(function () {
                    if (first) {
                        $(this).click(function () {
                            li.remove();
                            return false;
                        });
                        first = false;
                    }
                });

                first = true;
                ul.find(".preview").each(function () {
                    if (first) {
                        $(this).click(function () {
                            commentPreviewListener(ul);
                        });
                        first = false;
                    }
                });
            }

            if (hasMaximalDepth == "true") {
                Codeforces.confirm("The debates reached maximal permitted depth, so your message and the message you are replying will be displayed on the same level. Are you sure you want to reply to the message?", showReplyWindow, function () { }, "Yes", "No");
            } else {
                showReplyWindow();
            }
        return false;
    });
        });
    </script>
    <script type="text/javascript">
        $(document).ready(function () {
    $(".vote-for-comment").mouseover(function () {
        var vote = $(this);
        var direction = vote.attr("voteDirection");
        var commentUserId = $(this).parent().attr("data-commentUserId");
        var ownComment = commentUserId==435693;
        if (direction == 1 && !ownComment) {
            vote.find("img").attr("src", "http://st.codeforces.com/s/93431/images/actions/comment-voteup.png");
            vote.find("img").attr("popacity", vote.find("img").css("opacity"));
            vote.find("img").css("opacity", "1.0");
        }
        if (direction == -1 && !ownComment) {
            vote.find("img").attr("src", "http://st.codeforces.com/s/93431/images/actions/comment-votedown.png");
            vote.find("img").attr("popacity", vote.find("img").css("opacity"));
            vote.find("img").css("opacity", "1.0");
        }
    });

    $(".vote-for-comment").mouseout(function () {
        var vote = $(this);
        var direction = vote.attr("voteDirection");
        var commentUserId = $(this).parent().attr("data-commentUserId");
        var ownComment = commentUserId==435693;
        if (direction == 1 && !ownComment) {
            vote.find("img").attr("src", "http://st.codeforces.com/s/93431/images/actions/comment-voteup-blue.png");
            vote.find("img").css("opacity", vote.find("img").attr("popacity"));
        }
        if (direction == -1 && !ownComment) {
            vote.find("img").attr("src", "http://st.codeforces.com/s/93431/images/actions/comment-votedown-blue.png");
            vote.find("img").css("opacity", vote.find("img").attr("popacity"));
        }
    });

    $(".vote-for-comment").click(function () {
        var vote = $(this);
        var commentId = $(this).parent().attr("commentid");
        var commentRating = $(this).parent().attr("data-commentRating");
        var direction = $(this).attr("voteDirection");
        var commentUserId = $(this).parent().attr("data-commentUserId");
        var ownComment = commentUserId==435693;
        $.post("/data/comment/vote", {commentId: commentId, _tta: Codeforces.tta(), vote: direction, commentRating: commentRating}, function(data) {
            if (direction != 0 && !ownComment && data["success"] == "true") {
                vote.parent().find(".vote-for-comment").attr("voteDirection", 0);
                if (direction == 1)
                    vote.find("img").attr("src", "http://st.codeforces.com/s/93431/images/actions/comment-voteup.png");
                else
                    vote.find("img").attr("src", "http://st.codeforces.com/s/93431/images/actions/comment-votedown.png");
                vote.find("img").attr("popacity", "1.0");
                vote.find("img").css("opacity", "1.0");
                vote.parent().find(".commentRating").html(data["commentRating"]);
            }
            Codeforces.showMessage(data["message"]);
        }, "json");
        return false;
    });

    $(".negative-comment-vote").closest(".comment-table").addClass("comment-bad");

    $(".troll-comment-vote").closest(".comment").css("display", "none");

    $(".too-negative-comment-vote").closest(".comment-table").each(function () {
        var e = $(this);
        e.addClass("comment-too-bad");
        var commentId = e.attr("commentId");
        $("<div class='bad-comment-replacement ttypography'>The comment is hidden because of too negative feedback, click <a href=# class=show-bad-comment-link>here</a> to view it</div>").appendTo(
            e.find(".right")
        );
        e.find(".comment-content").hide();
        e.find(".show-bad-comment-link").click(function () {
            e.find(".comment-content").show();
            e.find(".bad-comment-replacement").hide();
            return false;
        });
    });
        });
    </script>
</div>

<style type="text/css">
    .new-comments-box {
        padding: 0.5em;
        width: 22px;
        font-size: 1.3rem;
        font-weight: bold !important;

        position: fixed;
        top: 40%;
        right: 0;
        opacity: 0.2;
        color: white;
        text-align: center;

        border: 1px solid #222;
        background-color: #888 !important;
        border-radius: 3px;
        -moz-border-radius: 3px;
        -webkit-border-radius: 3px;
    }

    .new-comments-box:hover {
        opacity: 1;
    }

    .new-comments-box .dir:hover {
        background: #3B5998 !important;
        cursor: pointer;
    }
</style>

<div class="new-comments-box" data-position="outside" data-index="-1" style="display: none;">
    <div class="up dir" title="Ctrl+Up">&uarr;<hr/></div>
    <div class="info" title="New comments"></div>
    <div class="down dir" title="Ctrl+Down"><hr/>&darr;</div>
</div>

    <script type="text/javascript">
        $(document).ready(function () {
    function gotoComment(direction) {
        var box = $(".new-comments-box");
        var index = parseInt(box.attr("data-index"));
        if (index == -1)
            index = 0;
        else
            index = Math.max(0, Math.min(parseInt(box.find(".info").text()) - 1, index + direction));
        box.attr("data-index", index);
        var comment = $($(".comment .highlight-blue[commentId]").get(index));
        $('html, body').animate({
          'scrollTop': Math.max(0, comment.offset().top - ($(window).height() - comment.height()) / 2)
        });
        return false;
    }

    $(".new-comments-box .down").click(function () {
        return gotoComment(1);
    });

    $(".new-comments-box .up").click(function () {
        return gotoComment(-1);
    });

    $(document).keydown(function (e) {
         var code = (e.keyCode ? e.keyCode : e.which);
         if (e.ctrlKey) {
            if (code == 38 || code == 40) {
                gotoComment(code - 39);
            }
         }
    });

    var newCommentCount = $(".comment .highlight-blue[commentId]").length;
    if (newCommentCount > 0) {
        $(".new-comments-box .info").text(newCommentCount);
        $(".new-comments-box").show();
    }

    $('table.comment-table').mouseenter(function () {
        var comment = $(this);
        var cnt = 0;
        while (true) {
            var id = comment.attr("commentId");
            var parentId = comment.attr("commentParentId");
            comment.find(".comment-indent-holder:first .comment-no-indent").addClass("comment-indent");
            if (parentId == -1) {
                break;
            }
            comment = $("table.comment-table[commentId=" + parentId + "]");
        }
        return false;
    });

    $('table.comment-table').mouseleave(function () {
        var comment = $(this);
        var cnt = 0;
        while (true) {
            var id = comment.attr("commentId");
            var parentId = comment.attr("commentParentId");
            comment.find(".comment-indent-holder:first .comment-no-indent").removeClass("comment-indent");
            if (parentId == -1) {
                break;
            }
            comment = $("table.comment-table[commentId=" + parentId + "]");
        }
        return false;
    });
        });
    </script>


    <script type="text/javascript">
        $(document).ready(function () {
    $(".topic-vote-up-619").click(function () {
        $.post("/data/topic/vote", {topicId: 619, _tta: Codeforces.tta(), topicRevisionId: 2158, vote: +1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
    $(".topic-vote-down-619").click(function () {
        $.post("/data/topic/vote", {topicId: 619, _tta: Codeforces.tta(), topicRevisionId: 2158, vote: -1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
        });
    </script>
</div>
        </div>
    </div>
                </div>
        </div>
            <br style="clear: both;"/>
            <div id="footer">
                <div><a href="http://codeforces.com/">Codeforces</a> (c) Copyright 2010-2017 Mike Mirzayanov</div>
                <div>The only programming contests Web 2.0 platform</div>
                    <div>Server time: <span class="format-timewithseconds" data-locale="en">Mar/02/2017 18:53:16</span> (c3).</div>
                    Desktop version, switch to <a rel="nofollow" class="switchToMobile" href="?mobile=true">mobile version</a>.

            </div>
        <script type="text/javascript">
            $(function() {
                $(".switchToMobile").click(function() {
                    Codeforces.redirect(Codeforces.updateUrlParameter(document.location.href, "mobile", "true"));
                    return false;
                });
                $(".switchToDesktop").click(function() {
                    Codeforces.redirect(Codeforces.updateUrlParameter(document.location.href, "mobile", "false"));
                    return false;
                });
            });
        </script>
    <script type="text/javascript">
        $(document).ready(function () {
            if ($(window).width() < 1600) {
                $('.button-up').css('width', '30px').css('line-height', '30px').css('font-size', '20px');
            }

            if ($(window).width() >= 1200) {
                $ (window).scroll (function () {
                    if ($ (this).scrollTop () > 100) {
                        $ ('.button-up').fadeIn();
                    } else {
                        $ ('.button-up').fadeOut();
                    }
                });

                $('.button-up').click(function () {
                    $('body,html').animate({
                        scrollTop: 0
                    }, 500);
                    return false;
                });

                $('.button-up').hover(function () {
                    $(this).animate({
                        'opacity':'1'
                    }).css({'background-color':'#e7ebf0','color':'#6a86a4'});
                }, function () {
                    $(this).animate({
                        'opacity':'0.7'
                    }).css({'background':'none','color':'#d3dbe4'});;
                });
            }
            Codeforces.focusOnError();
        });
    </script>

        <div class="userListsFacebox" style="display:none;">
            <div style="padding: 0.5em; width: 600px; max-height: 200px; overflow-y: auto">
<div class="datatable"
     
     style="background-color: #E1E1E1; padding-bottom: 3px;">
            <div class="lt">&nbsp;</div>
            <div class="rt">&nbsp;</div>
            <div class="lb">&nbsp;</div>
            <div class="rb">&nbsp;</div>

            <div style="padding: 4px 0 0 6px;font-size:1.4rem;position:relative;">
                User lists

                <div style="position:absolute;right:0.25em;top:0.35em;">
                    <span style="padding:0;position:relative;bottom:2px;" class="rowCount"></span>

                    <img class="closed" src="http://st.codeforces.com/s/93431/images/icons/control.png"/>

                    <span class="filter" style="display:none;">
                        <img class="opened" src="http://st.codeforces.com/s/93431/images/icons/control-270.png"/>
                        <input style="padding:0;position:relative;bottom:2px;border:1px solid #aaa;height:17px;font-size:1.3rem;"/>
                    </span>
                </div>
            </div>
            <div style="background-color: white;margin:0.3em 3px 0 3px;position:relative;">
            <div class="ilt">&nbsp;</div>
            <div class="irt">&nbsp;</div>
            <table class="">
                    <thead>
                    <tr>
                        <th>Name</th>
                    </tr>
                    </thead>
                    <tbody>
                    </tbody>
            </table>
            </div>
        </div>
    <script type="text/javascript">
        $(document).ready(function () {
                // Create new ':containsIgnoreCase' selector for search
                jQuery.expr[':'].containsIgnoreCase = function(a, i, m) {
                    return jQuery(a).text().toUpperCase()
                            .indexOf(m[3].toUpperCase()) >= 0;
                };

                if (window.updateDatatableFilter == undefined) {
                    window.updateDatatableFilter = function(i) {
                        var parent = $(i).parent().parent().parent().parent();
                        $("tr.no-items", parent).remove();
                        $("tr", parent).hide().removeClass('visible');
                        var text = $(i).val();
                        if (text) {
                            $("tr" + ":containsIgnoreCase('" + text + "')", parent).show().addClass('visible');
                        } else {
                            parent.find(".rowCount").text("");
                            $("tr", parent).show().addClass('visible');
                        }

                        var found = false;
                        var visibleRowCount = 0;
                        $("tr", parent).each(function () {
                            if (!found) {
                                if ($(this).find("th").size() > 0) {
                                    $(this).show().addClass('visible');
                                    found = true;
                                }
                            }
                            if ($(this).hasClass('visible')) {
                                visibleRowCount++;
                            }
                        });
                        if (text) {
                            parent.find(".rowCount").text("Matches: " + (visibleRowCount - (found ? 1 : 0)));
                        }
                        if (visibleRowCount == (found ? 1 : 0)) {
                            $("<tr class='no-items visible'><td style=\"text-align:left;\"colspan=\"32\">No items<\/td><\/tr>").appendTo($(parent).find('table'));
                        }
                        $(parent).find("tr td").removeClass("dark");
                        $(parent).find("tr.visible:odd td").addClass("dark");
                    }

                    $(".datatable .closed").click(function () {
                        var parent = $(this).parent();
                        $(this).hide();
                        $(".filter", parent).fadeIn(function () {
                            $("input", parent).val("").focus().css("border", "1px solid #aaa");
                        });
                    });

                    $(".datatable .opened").click(function () {
                        var parent = $(this).parent().parent();
                        $(".filter", parent).fadeOut(function () {
                            $(".closed", parent).show();
                            $("input", parent).val("").each(function () {
                                window.updateDatatableFilter(this);
                            });
                        });
                    });

                    $(".datatable .filter input").keyup(function(e) {
                        window.updateDatatableFilter(this);
                        e.preventDefault();
                        e.stopPropagation();
                    });

                    $(".datatable table").each(function () {
                        var found = false;
                        $("tr", this).each(function () {
                            if (!found && $(this).find("th").size() == 0) {
                                found = true;
                            }
                        });
                        if (!found) {
                            $("<tr class='no-items visible'><td style=\"text-align:left;\"colspan=\"32\">No items<\/td><\/tr>").appendTo(this);
                        }
                    });

                    // Applies styles to datatables.
                    $(".datatable").each(function () {
                        $(this).find("tr:first th").addClass("top");
                        $(this).find("tr:last td").addClass("bottom");
                        $(this).find("tr:odd td").addClass("dark");
                        $(this).find("tr td:first-child, tr th:first-child").addClass("left");
                        $(this).find("tr td:last-child, tr th:last-child").addClass("right");
                    });

                    $(".datatable table.tablesorter").each(function () {
                        $(this).bind("sortEnd", function () {
                            $(".datatable").each(function () {
                                $(this).find("th, td")
                                    .removeClass("top").removeClass("bottom")
                                    .removeClass("left").removeClass("right")
                                    .removeClass("dark");
                                $(this).find("tr:first th").addClass("top");
                                $(this).find("tr:last td").addClass("bottom");
                                $(this).find("tr:odd td").addClass("dark");
                                $(this).find("tr td:first-child, tr th:first-child").addClass("left");
                                $(this).find("tr td:last-child, tr th:last-child").addClass("right");
                            });
                        });
                    });
                }
        });
    </script>
            </div>
        </div>
        <script type="application/javascript">
            $(function() {
                $(".userListMarker").click(function() {
                    $.post("/data/lists", {action: "findTouched"}, function(json) {
                        Codeforces.facebox(".userListsFacebox");
                        var tbody = $("#facebox tbody");
                        tbody.empty();
                        for (var i in json) {
                            tbody.append(
                                    $("<tr></tr>").append(
                                            $("<td></td>").attr("data-readKey", json[i].readKey).text(json[i].name)
                                    )
                            );
                        }
                        Codeforces.updateDatatables();
                        tbody.find("td").css("cursor", "pointer").click(function() {
                            document.location = Codeforces.updateUrlParameter(document.location.href, "list", $(this).attr("data-readKey"));
                        });
                    }, "json");
                });
            });
        </script>
</body>
</html>
